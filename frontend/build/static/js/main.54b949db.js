/*! For license information please see main.54b949db.js.LICENSE.txt */
(()=>{"use strict";var e={730(e,t,n){var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,U=Object.assign;function M(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(1!==i||1!==o)do{if(i--,0>--o||a[i]!==s[o]){var l="\n"+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function F(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function W(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case S:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:W(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return W(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return W(t);case 8:return t===j?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function se(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(fe).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,je=null;function Se(e){if(e=ya(e)){if("function"!==typeof ke)throw Error(s(280));var t=e.stateNode;t&&(t=xa(t),ke(e.stateNode,e.type,t))}}function Ne(e){_e?je?je.push(e):je=[e]:_e=e}function Ee(){if(_e){var e=_e,t=je;if(je=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ce(){}var Re=!1;function Oe(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==_e||null!==je)&&(Ce(),Ee())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=xa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ae=!1;if(u)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(ue){Ae=!1}function Le(e,t,n,r,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Ue=null,Me=!1,ze=null,Be={onError:function(e){De=!0,Ue=e}};function Fe(e,t,n,r,a,s,i,o,l){De=!1,Ue=null,Le.apply(Be,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(We(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ge=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ze=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~a;0!==o?r=dt(o):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,_t,jt,St,Nt=!1,Et=[],Tt=null,Ct=null,Rt=null,Ot=new Map,Pt=new Map,At=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Ut(e){var t=ba(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){_t(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function zt(e,t,n){Mt(e)&&n.delete(t)}function Bt(){Nt=!1,null!==Tt&&Mt(Tt)&&(Tt=null),null!==Ct&&Mt(Ct)&&(Ct=null),null!==Rt&&Mt(Rt)&&(Rt=null),Ot.forEach(zt),Pt.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Wt(e){function t(t){return Ft(t,e)}if(0<Et.length){Ft(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ft(Tt,e),null!==Ct&&Ft(Ct,e),null!==Rt&&Ft(Rt,e),Ot.forEach(t),Pt.forEach(t),n=0;n<At.length;n++)(r=At[n]).blockedOn===e&&(r.blockedOn=null);for(;0<At.length&&null===(n=At[0]).blockedOn;)Ut(n),null===n.blockedOn&&At.shift()}var qt=w.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var a=yt,s=qt.transition;qt.transition=null;try{yt=1,$t(e,t,n,r)}finally{yt=a,qt.transition=s}}function Kt(e,t,n,r){var a=yt,s=qt.transition;qt.transition=null;try{yt=4,$t(e,t,n,r)}finally{yt=a,qt.transition=s}}function $t(e,t,n,r){if(Vt){var a=Jt(e,t,n,r);if(null===a)Vr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Tt=Dt(Tt,e,t,n,r,a),!0;case"dragenter":return Ct=Dt(Ct,e,t,n,r,a),!0;case"mouseover":return Rt=Dt(Rt,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Ot.set(s,Dt(Ot.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Pt.set(s,Dt(Pt.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&xt(s),null===(s=Jt(e,t,n,r))&&Vr(e,t,r,Gt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=ba(e=xe(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Zt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=U({},cn,{view:0,detail:0}),hn=an(dn),fn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=an(fn),mn=an(U({},fn,{dataTransfer:0})),gn=an(U({},dn,{relatedTarget:0})),vn=an(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(bn),wn=an(U({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return jn}var Nn=U({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(Nn),Tn=an(U({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=an(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Rn=an(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=U({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(On),An=[9,13,27,32],In=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Dn=u&&"TextEvent"in window&&!Ln,Un=u&&(!In||Ln&&8<Ln&&11>=Ln),Mn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,$n=null;function Gn(e){Mr(e,0)}function Jn(e){if($(wa(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Qn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),$n=Kn=null)}function nr(e){if("value"===e.propertyName&&Jn($n)){var t=[];Hn(t,$n,e,xe(e)),Oe(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),$n=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn($n)}function sr(e,t){if("click"===e)return Jn(t)}function ir(e,t){if("input"===e||"change"===e)return Jn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!or(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,br=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&lr(br,r)||(br=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},_r={},jr={};function Sr(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in jr)return _r[e]=n[t];return e}u&&(jr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=Sr("animationend"),Er=Sr("animationiteration"),Tr=Sr("animationstart"),Cr=Sr("transitionend"),Rr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Ar=0;Ar<Or.length;Ar++){var Ir=Or[Ar];Pr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Pr(Nr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,o,l,c){if(Fe.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Ue;De=!1,Ue=null,Me||(Me=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Ur(a,o,c),s=l}}}if(Me)throw e=ze,Me=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Wr(e){if(!e[Fr]){e[Fr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var a=Ht;break;case 4:a=Kt;break;default:a=$t}n=a.bind(null,t,n,e),a=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a||8===o.nodeType&&o.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;i=i.return}for(;null!==o;){if(null===(i=ba(o)))return;if(5===(l=i.tag)||6===l){r=s=i;continue e}o=o.parentNode}}r=r.return}Oe(function(){var r=s,a=xe(n),i=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Nr:case Er:case Tr:l=vn;break;case Cr:l=Rn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Pe(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,a),i.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!ba(c)&&!c[pa])&&(l||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ba(c):null)&&(c!==(d=We(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:wa(l),f=null==c?o:wa(c),(o=new u(m,p+"leave",l,n,a)).target=d,o.relatedTarget=f,m=null,ba(a)===r&&((u=new u(h,p+"enter",c,n,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=$r(f))p++;for(f=0,m=h;m;m=$r(m))f++;for(;0<p-f;)u=$r(u),p--;for(;0<f-p;)h=$r(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=$r(u),h=$r(h)}u=null}else u=null;null!==l&&Gr(i,o,l,u,!1),null!==c&&null!==d&&Gr(i,d,c,u,!0)}if("select"===(l=(o=r?wa(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Yn;else if(Vn(o))if(Qn)g=ir;else{g=ar;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(i,g,n,a):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wa(r):window,e){case"focusin":(Vn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,br=null);break;case"focusout":br=vr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(i,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(i,n,a)}var b;if(In)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Wn?Bn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Wn&&(b=en()):(Xt="value"in(Qt=a)?Qt.value:Qt.textContent,Wn=!0)),0<(v=Kr(r,y)).length&&(y=new wn(y,e,null,n,a),i.push({event:y,listeners:v}),b?y.data=b:null!==(b=Fn(n))&&(y.data=b))),(b=Dn?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,Mn);case"textInput":return(e=t.data)===Mn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!In&&Bn(e,t)?(e=en(),Zt=Xt=Qt=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=b))}Mr(i,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Pe(e,n))&&r.unshift(Hr(e,s,a)),null!=(s=Pe(e,t))&&r.push(Hr(e,s,a))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,a?null!=(l=Pe(n,s))&&i.unshift(Hr(n,l,o)):a||null!=(l=Pe(n,s))&&i.push(Hr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(oa)}:ra;function oa(e){setTimeout(function(){throw e})}function la(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Wt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Wt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ha="__reactFiber$"+da,fa="__reactProps$"+da,pa="__reactContainer$"+da,ma="__reactEvents$"+da,ga="__reactListeners$"+da,va="__reactHandles$"+da;function ba(e){var t=e[ha];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pa]||n[ha]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ha])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ha]||e[pa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xa(e){return e[fa]||null}var ka=[],_a=-1;function ja(e){return{current:e}}function Sa(e){0>_a||(e.current=ka[_a],ka[_a]=null,_a--)}function Na(e,t){_a++,ka[_a]=e.current,e.current=t}var Ea={},Ta=ja(Ea),Ca=ja(!1),Ra=Ea;function Oa(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Aa(){Sa(Ca),Sa(Ta)}function Ia(e,t,n){if(Ta.current!==Ea)throw Error(s(168));Na(Ta,t),Na(Ca,n)}function La(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,q(e)||"Unknown",a));return U({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Ra=Ta.current,Na(Ta,e),Na(Ca,Ca.current),!0}function Ua(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=La(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ca),Sa(Ta),Na(Ta,e)):Sa(Ca),Na(Ca,n)}var Ma=null,za=!1,Ba=!1;function Fa(e){null===Ma?Ma=[e]:Ma.push(e)}function Wa(){if(!Ba&&null!==Ma){Ba=!0;var e=0,t=yt;try{var n=Ma;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ma=null,za=!1}catch(a){throw null!==Ma&&(Ma=Ma.slice(e+1)),$e(Ze,Wa),a}finally{yt=t,Ba=!1}}return null}var qa=[],Va=0,Ha=null,Ka=0,$a=[],Ga=0,Ja=null,Ya=1,Qa="";function Xa(e,t){qa[Va++]=Ka,qa[Va++]=Ha,Ha=e,Ka=t}function Za(e,t,n){$a[Ga++]=Ya,$a[Ga++]=Qa,$a[Ga++]=Ja,Ja=e;var r=Ya;e=Qa;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Ya=1<<32-it(t)+a|n<<a|r,Qa=s+e}else Ya=1<<s|n<<a|r,Qa=e}function es(e){null!==e.return&&(Xa(e,1),Za(e,1,0))}function ts(e){for(;e===Ha;)Ha=qa[--Va],qa[Va]=null,Ka=qa[--Va],qa[Va]=null;for(;e===Ja;)Ja=$a[--Ga],$a[Ga]=null,Qa=$a[--Ga],$a[Ga]=null,Ya=$a[--Ga],$a[Ga]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ja?{id:Ya,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&os(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ca(e.nextSibling)}function fs(){rs=ns=null,as=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=w.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&bs(s)===t.type)?((r=a(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Ac(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ic(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ac(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case k:return(t=Uc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ic(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?u(e,t,n,r):null;case P:return f(e,t,(a=n._init)(n._payload),r)}if(te(n)||L(n))return null!==a?null:d(e,t,n,r,null);vs(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case P:return p(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,a,null);vs(t,r)}return null}function m(a,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=i(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(a,d),as&&Xa(a,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(a,o[m],l))&&(s=i(d,s,m),null===u?c=d:u.sibling=d,u=d);return as&&Xa(a,m),c}for(d=r(a,d);m<o.length;m++)null!==(g=p(d,a,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=i(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),as&&Xa(a,m),c}function g(a,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=o,g=o=0,v=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(a,m,b.value,c);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(a,m),o=i(y,o,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(a,m),as&&Xa(a,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(a,b.value,c))&&(o=i(b,o,g),null===d?u=b:d.sibling=b,d=b);return as&&Xa(a,g),u}for(m=r(a,m);!b.done;g++,b=l.next())null!==(b=p(m,a,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(a,e)}),as&&Xa(a,g),u}return function e(r,s,i,l){if("object"===typeof i&&null!==i&&i.type===_&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case x:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===_){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&bs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=gs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===_?((s=Ic(i.props.children,r.mode,l,i.key)).return=r,r=s):((l=Ac(i.type,i.key,i.props,null,r.mode,l)).ref=gs(r,s,i),l.return=r,r=l)}return o(r);case k:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(i,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=i._init)(i._payload),l)}if(te(i))return m(r,s,i,l);if(L(i))return g(r,s,i,l);vs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Dc(i,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=ys(!0),xs=ys(!1),ks=ja(null),_s=null,js=null,Ss=null;function Ns(){Ss=js=_s=null}function Es(e){var t=ks.current;Sa(ks),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Cs(e,t){_s=e,Ss=js=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===js){if(null===_s)throw Error(s(308));js=e,_s.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Os=null;function Ps(e){null===Os?Os=[e]:Os.push(e)}function As(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ps(t)):(n.next=a.next,a.next=n),t.interleaved=n,Is(e,r)}function Is(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Us(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ms(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Is(e,n)}return null===(a=r.interleaved)?(t.next=t,Ps(r)):(t.next=a.next,a.next=t),r.interleaved=t,Is(e,n)}function Bs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var a=e.updateQueue;Ls=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?s=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(i=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=U({},d,h);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Ll|=i,e.lanes=i,e.memoizedState=d}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var Vs={},Hs=ja(Vs),Ks=ja(Vs),$s=ja(Vs);function Gs(e){if(e===Vs)throw Error(s(174));return e}function Js(e,t){switch(Na($s,t),Na(Ks,e),Na(Hs,Vs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa(Hs),Na(Hs,t)}function Ys(){Sa(Hs),Sa(Ks),Sa($s)}function Qs(e){Gs($s.current);var t=Gs(Hs.current),n=le(t,e.type);t!==n&&(Na(Ks,e),Na(Hs,n))}function Xs(e){Ks.current===e&&(Sa(Hs),Sa(Ks))}var Zs=ja(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=w.ReactCurrentDispatcher,ai=w.ReactCurrentBatchConfig,si=0,ii=null,oi=null,li=null,ci=!1,ui=!1,di=0,hi=0;function fi(){throw Error(s(321))}function pi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Xi:Zi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,a)}while(ui)}if(ri.current=Qi,t=null!==oi&&null!==oi.next,si=0,li=oi=ii=null,ci=!1,t)throw Error(s(300));return e}function gi(){var e=0!==di;return di=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function bi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function yi(e,t){return"function"===typeof t?t(e):t}function wi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Ll|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);or(i,t.memoizedState)||(yo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ki(){}function _i(e,t){var n=ii,r=bi(),a=t(),i=!or(r.memoizedState,a);if(i&&(r.memoizedState=a,yo=!0),r=r.queue,Li(Ni.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ri(9,Si.bind(null,n,r,a,t),void 0,null),null===Tl)throw Error(s(349));0!==(30&si)||ji(n,t,a)}return a}function ji(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&Ti(e)}function Ni(e,t,n){return n(function(){Ei(t)&&Ti(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ti(e){var t=Is(e,1);null!==t&&tc(t,e,1,-1)}function Ci(e){var t=vi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=$i.bind(null,ii,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oi(){return bi().memoizedState}function Pi(e,t,n,r){var a=vi();ii.flags|=e,a.memoizedState=Ri(1|t,n,void 0,void 0===r?null:r)}function Ai(e,t,n,r){var a=bi();r=void 0===r?null:r;var s=void 0;if(null!==oi){var i=oi.memoizedState;if(s=i.destroy,null!==r&&pi(r,i.deps))return void(a.memoizedState=Ri(t,n,s,r))}ii.flags|=e,a.memoizedState=Ri(1|t,n,s,r)}function Ii(e,t){return Pi(8390656,8,e,t)}function Li(e,t){return Ai(2048,8,e,t)}function Di(e,t){return Ai(4,2,e,t)}function Ui(e,t){return Ai(4,4,e,t)}function Mi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function zi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ai(4,4,Mi.bind(null,t,e),n)}function Bi(){}function Fi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wi(e,t){var n=bi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&pi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Ll|=n,e.baseState=!0),t)}function Vi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{yt=n,ai.transition=r}}function Hi(){return bi().memoizedState}function Ki(e,t,n){var r=ec(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Ji(t,n);else if(null!==(n=As(e,t,n,r))){tc(n,e,r,Zl()),Yi(n,t,r)}}function $i(e,t,n){var r=ec(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Ji(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=s(i,n);if(a.hasEagerState=!0,a.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(a.next=a,Ps(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=As(e,t,a,r))&&(tc(n,e,r,a=Zl()),Yi(n,t,r))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ji(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Qi={readContext:Rs,useCallback:fi,useContext:fi,useEffect:fi,useImperativeHandle:fi,useInsertionEffect:fi,useLayoutEffect:fi,useMemo:fi,useReducer:fi,useRef:fi,useState:fi,useDebugValue:fi,useDeferredValue:fi,useTransition:fi,useMutableSource:fi,useSyncExternalStore:fi,useId:fi,unstable_isNewReconciler:!1},Xi={readContext:Rs,useCallback:function(e,t){return vi().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pi(4194308,4,Mi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pi(4,2,e,t)},useMemo:function(e,t){var n=vi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vi().memoizedState=e},useState:Ci,useDebugValue:Bi,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=Ci(!1),t=e[0];return e=Vi.bind(null,e[1]),vi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=vi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Tl)throw Error(s(349));0!==(30&si)||ji(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ii(Ni.bind(null,r,i,e),[e]),r.flags|=2048,Ri(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vi(),t=Tl.identifierPrefix;if(as){var n=Qa;t=":"+t+"R"+(n=(Ya&~(1<<32-it(Ya)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:Rs,useCallback:Fi,useContext:Rs,useEffect:Li,useImperativeHandle:zi,useInsertionEffect:Di,useLayoutEffect:Ui,useMemo:Wi,useReducer:wi,useRef:Oi,useState:function(){return wi(yi)},useDebugValue:Bi,useDeferredValue:function(e){return qi(bi(),oi.memoizedState,e)},useTransition:function(){return[wi(yi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:_i,useId:Hi,unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:Fi,useContext:Rs,useEffect:Li,useImperativeHandle:zi,useInsertionEffect:Di,useLayoutEffect:Ui,useMemo:Wi,useReducer:xi,useRef:Oi,useState:function(){return xi(yi)},useDebugValue:Bi,useDeferredValue:function(e){var t=bi();return null===oi?t.memoizedState=e:qi(t,oi.memoizedState,e)},useTransition:function(){return[xi(yi)[0],bi().memoizedState]},useMutableSource:ki,useSyncExternalStore:_i,useId:Hi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Ms(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(tc(t,e,a,r),Bs(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zl(),a=ec(e),s=Ms(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=zs(e,s,a))&&(tc(t,e,a,r),Bs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zl(),r=ec(e),a=Ms(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=zs(e,a,r))&&(tc(t,e,r,n),Bs(t,e,r))}};function ao(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(a,s))}function so(e,t,n){var r=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(a=Pa(t)?Ra:Ta.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oa(e,a):Ea),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Rs(s):(s=Pa(t)?Ra:Ta.current,a.context=Oa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&ro.enqueueReplaceState(a,a.state,null),Ws(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Ms(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Vl=r),uo(0,t)},n}function po(e,t,n){(n=Ms(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){uo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=jc.bind(null,e,t,n),t.then(e,e))}function go(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ms(-1,1)).tag=2,zs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bo=w.ReactCurrentOwner,yo=!1;function wo(e,t,n,r){t.child=null===e?xs(t,null,n,r):ws(t,e.child,n,r)}function xo(e,t,n,r,a){n=n.render;var s=t.ref;return Cs(t,a),r=mi(e,t,n,r,s,a),n=gi(),null===e||yo?(as&&n&&es(t),t.flags|=1,wo(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function ko(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ac(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return qo(e,t,a)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(yo=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,qo(e,t,a);0!==(131072&e.flags)&&(yo=!0)}}return No(e,t,n,r,a)}function jo(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(Pl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(Pl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Na(Pl,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Na(Pl,Ol),Ol|=r;return wo(e,t,a,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function No(e,t,n,r,a){var s=Pa(n)?Ra:Ta.current;return s=Oa(t,s),Cs(t,a),n=mi(e,t,n,r,s,a),r=gi(),null===e||yo?(as&&r&&es(t),t.flags|=1,wo(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,qo(e,t,a))}function Eo(e,t,n,r,a){if(Pa(n)){var s=!0;Da(t)}else s=!1;if(Cs(t,a),null===t.stateNode)Wo(e,t),so(t,n,r),oo(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Oa(t,c=Pa(n)?Ra:Ta.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Ls=!1;var h=t.memoizedState;i.state=h,Ws(t,r,i,a),l=t.memoizedState,o!==r||h!==l||Ca.current||Ls?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ls||ao(t,n,o,r,h,l,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Us(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,d=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Oa(t,l=Pa(n)?Ra:Ta.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==d||h!==l)&&io(t,i,r,l),Ls=!1,h=t.memoizedState,i.state=h,Ws(t,r,i,a);var p=t.memoizedState;o!==d||h!==p||Ca.current||Ls?("function"===typeof f&&(no(t,n,f,r),p=t.memoizedState),(c=Ls||ao(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,s,a)}function To(e,t,n,r,a,s){So(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ua(t,n,!1),qo(e,t,s);r=t.stateNode,bo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):wo(e,t,o,s),t.memoizedState=r.state,a&&Ua(t,n,!0),t.child}function Co(e){var t=e.stateNode;t.pendingContext?Ia(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ia(0,t.context,!1),Js(e,t.containerInfo)}function Ro(e,t,n,r,a){return fs(),ps(a),t.flags|=256,wo(e,t,n,r),t.child}var Oo,Po,Ao,Io={dehydrated:null,treeContext:null,retryLane:0};function Lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Do(e,t,n){var r,a=t.pendingProps,i=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,o?(a=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Lc(l,a,0,null),e=Ic(e,a,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Lo(n),t.memoizedState=Io,e):Uo(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,o){if(n)return 256&t.flags?(t.flags&=-257,Mo(e,t,o,r=co(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Lc({mode:"visible",children:r.children},a,0,null),(i=Ic(i,a,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Lo(o),t.memoizedState=Io,i);if(0===(1&t.mode))return Mo(e,t,o,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var l=r.dgst;return r=l,Mo(e,t,o,r=co(i=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),yo||l){if(null!==(r=Tl)){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|o))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Is(e,a),tc(r,e,a,-1))}return pc(),Mo(e,t,o,r=co(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&($a[Ga++]=Ya,$a[Ga++]=Qa,$a[Ga++]=Ja,Ya=e.id,Qa=e.overflow,Ja=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,a,r,i,n);if(o){o=a.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Pc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Pc(r,o):(o=Ic(o,l,n,null)).flags|=2,o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,l=null===(l=e.child.memoizedState)?Lo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Io,a}return e=(o=e.child).sibling,a=Pc(o,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Uo(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Mo(e,t,n,r){return null!==r&&ps(r),ws(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Bo(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Fo(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zo(e,n,t);else if(19===e.tag)zo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bo(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bo(t,!0,n,null,s);break;case"together":Bo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vo(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ho(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ko(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ho(t),null;case 1:case 17:return Pa(t.type)&&Aa(),Ho(t),null;case 3:return r=t.stateNode,Ys(),Sa(Ca),Sa(Ta),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(sc(ss),ss=null))),Ho(t),null;case 5:Xs(t);var a=Gs($s.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ho(t),null}if(e=Gs(Hs.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ha]=t,r[fa]=i,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,i),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},zr("invalid",r);break;case"textarea":ae(r,i),zr("invalid",r)}for(var l in be(n,i),a=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xr(r.textContent,c,e),a=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,i,!0);break;case"textarea":K(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Zr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ha]=t,e[fa]=r,Oo(e,t),t.stateNode=e;e:{switch(l=ye(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Lr.length;a++)zr(Lr[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Y(e,r),a=J(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(i in be(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?ge(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=u&&"onScroll"===i&&zr("scroll",e):null!=u&&y(e,i,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ho(t),null;case 6:if(e&&null!=t.stateNode)Ao(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Gs($s.current),Gs(Hs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ha]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ha]=t,t.stateNode=r}return Ho(t),null;case 13:if(Sa(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),fs(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ha]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ho(t),i=!1}else null!==ss&&(sc(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Al&&(Al=3):pc())),null!==t.updateQueue&&(t.flags|=4),Ho(t),null);case 4:return Ys(),null===e&&Wr(t.stateNode.containerInfo),Ho(t),null;case 10:return Es(t.type._context),Ho(t),null;case 19:if(Sa(Zs),null===(i=t.memoizedState))return Ho(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Vo(i,!1);else{if(0!==Al||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Vo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Fl&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!as)return Ho(t),null}else 2*Qe()-i.renderingStartTime>Fl&&1073741824!==n&&(t.flags|=128,r=!0,Vo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=Zs.current,Na(Zs,r?1&n|2:1&n),t):(Ho(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ho(t),6&t.subtreeFlags&&(t.flags|=8192)):Ho(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function $o(e,t){switch(ts(t),t.tag){case 1:return Pa(t.type)&&Aa(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),Sa(Ca),Sa(Ta),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sa(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Zs),null;case 4:return Ys(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Gs(Hs.current);var s,i=null;switch(n){case"input":a=J(e,a),r=J(e,r),i=[];break;case"select":a=U({},a,{value:void 0}),r=U({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in be(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ao=function(e,t,n,r){n!==r&&(t.flags|=4)};var Go=!1,Jo=!1,Yo="function"===typeof WeakSet?WeakSet:Set,Qo=null;function Xo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){_c(e,t,r)}}var el=!1;function tl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Zo(t,n,s)}a=a.next}while(a!==r)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ha],delete t[fa],delete t[ma],delete t[ga],delete t[va])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ol(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ol(e,t,n),e=e.sibling;null!==e;)ol(e,t,n),e=e.sibling}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}var cl=null,ul=!1;function dl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(o){}switch(n.tag){case 5:Jo||Xo(n,t);case 6:var r=cl,a=ul;cl=null,dl(e,t,n),ul=a,null!==(cl=r)&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(ul?(e=cl,n=n.stateNode,8===e.nodeType?la(e.parentNode,n):1===e.nodeType&&la(e,n),Wt(e)):la(cl,n.stateNode));break;case 4:r=cl,a=ul,cl=n.stateNode.containerInfo,ul=!0,dl(e,t,n),cl=r,ul=a;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zo(n,t,i),a=a.next}while(a!==r)}dl(e,t,n);break;case 1:if(!Jo&&(Xo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){_c(n,t,o)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,dl(e,t,n),Jo=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yo),t.forEach(function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function pl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===cl)throw Error(s(160));hl(i,o,a),cl=null,ul=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){_c(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),gl(e),4&r){try{tl(3,e,e.return),nl(3,e)}catch(g){_c(e,e.return,g)}try{tl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return);break;case 5:if(pl(t,e),gl(e),512&r&&null!==n&&Xo(n,n.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&Q(a,i),ye(l,o);var u=ye(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(a,h):"dangerouslySetInnerHTML"===d?de(a,h):"children"===d?he(a,h):y(a,d,h,u)}switch(l){case"input":X(a,i);break;case"textarea":se(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;null!=p?ne(a,!!i.multiple,p,!1):f!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[fa]=i}catch(g){_c(e,e.return,g)}}break;case 6:if(pl(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){_c(e,e.return,g)}}break;case 3:if(pl(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:pl(t,e),gl(e);break;case 13:pl(t,e),gl(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bl=Qe())),4&r&&fl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||d,pl(t,e),Jo=u):pl(t,e),gl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qo=e,d=e.child;null!==d;){for(h=Qo=d;null!==Qo;){switch(p=(f=Qo).child,f.tag){case 0:case 11:case 14:case 15:tl(4,f,f.return);break;case 1:Xo(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Xo(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Qo=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pl(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(he(a,""),r.flags&=-33),ll(e,il(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ol(e,il(e),i);break;default:throw Error(s(161))}}catch(o){_c(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qo;){var a=Qo,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Go;if(!i){var o=a.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Go;var c=Jo;if(Go=i,(Jo=l)&&!c)for(Qo=a;null!==Qo;)l=(i=Qo).child,22===i.tag&&null!==i.memoizedState?xl(a):null!==l?(l.return=i,Qo=l):xl(a);for(;null!==s;)Qo=s,bl(s,t,n),s=s.sibling;Qo=a,Go=o,Jo=c}yl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Qo=s):yl(e)}}function yl(e){for(;null!==Qo;){var t=Qo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||nl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&qs(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Wt(h)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&rl(t)}catch(f){_c(t,t.return,f)}}if(t===e){Qo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qo=n;break}Qo=t.return}}function wl(e){for(;null!==Qo;){var t=Qo;if(t===e){Qo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qo=n;break}Qo=t.return}}function xl(e){for(;null!==Qo;){var t=Qo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(l){_c(t,a,l)}}var s=t.return;try{rl(t)}catch(l){_c(t,s,l)}break;case 5:var i=t.return;try{rl(t)}catch(l){_c(t,i,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Qo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Qo=o;break}Qo=t.return}}var kl,_l=Math.ceil,jl=w.ReactCurrentDispatcher,Sl=w.ReactCurrentOwner,Nl=w.ReactCurrentBatchConfig,El=0,Tl=null,Cl=null,Rl=0,Ol=0,Pl=ja(0),Al=0,Il=null,Ll=0,Dl=0,Ul=0,Ml=null,zl=null,Bl=0,Fl=1/0,Wl=null,ql=!1,Vl=null,Hl=null,Kl=!1,$l=null,Gl=0,Jl=0,Yl=null,Ql=-1,Xl=0;function Zl(){return 0!==(6&El)?Qe():-1!==Ql?Ql:Ql=Qe()}function ec(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function tc(e,t,n,r){if(50<Jl)throw Jl=0,Yl=null,Error(s(185));vt(e,n,r),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Dl|=n),4===Al&&ic(e,Rl)),nc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Fl=Qe()+500,za&&Wa()))}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),o=1<<i,l=a[i];-1===l?0!==(o&n)&&0===(o&r)||(a[i]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Tl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){za=!0,Fa(e)}(oc.bind(null,e)):Fa(oc.bind(null,e)),ia(function(){0===(6&El)&&Wa()}),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ql=-1,Xl=0,0!==(6&El))throw Error(s(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var a=El;El|=2;var i=fc();for(Tl===e&&Rl===t||(Wl=null,Fl=Qe()+500,dc(e,t));;)try{vc();break}catch(l){hc(e,l)}Ns(),jl.current=i,El=a,null!==Cl?t=0:(Tl=null,Rl=0,t=Al)}if(0!==t){if(2===t&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t)throw n=Il,dc(e,0),ic(e,r),nc(e,Qe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!or(s(),a))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=mc(e,r))&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t))throw n=Il,dc(e,0),ic(e,r),nc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,zl,Wl);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=Bl+500-Qe())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Zl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,zl,Wl),t);break}wc(e,zl,Wl);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>a&&(a=o),r&=~i}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,zl,Wl),r);break}wc(e,zl,Wl);break;default:throw Error(s(329))}}}return nc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Ml;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=zl,zl=n,null!==t&&sc(t)),e}function sc(e){null===zl?zl=e:zl.push.apply(zl,e)}function ic(e,t){for(t&=~Ul,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&El))throw Error(s(327));xc();var t=ht(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Il,dc(e,0),ic(e,t),nc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,zl,Wl),nc(e,Qe()),null}function lc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Fl=Qe()+500,za&&Wa())}}function cc(e){null!==$l&&0===$l.tag&&0===(6&El)&&xc();var t=El;El|=1;var n=Nl.transition,r=yt;try{if(Nl.transition=null,yt=1,e)return e()}finally{yt=r,Nl.transition=n,0===(6&(El=t))&&Wa()}}function uc(){Ol=Pl.current,Sa(Pl)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Cl)for(n=Cl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Aa();break;case 3:Ys(),Sa(Ca),Sa(Ta),ni();break;case 5:Xs(r);break;case 4:Ys();break;case 13:case 19:Sa(Zs);break;case 10:Es(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Cl=e=Pc(e.current,null),Rl=Ol=t,Al=0,Il=null,Ul=Dl=Ll=0,zl=Ml=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Os=null}return e}function hc(e,t){for(;;){var n=Cl;try{if(Ns(),ri.current=Qi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,li=oi=ii=null,ui=!1,di=0,Sl.current=null,null===n||null===n.return){Al=1,Il=t,Cl=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=go(o);if(null!==p){p.flags&=-257,vo(p,o,l,0,t),1&p.mode&&mo(i,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){mo(i,u,t),pc();break e}c=Error(s(426))}else if(as&&1&l.mode){var v=go(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vo(v,o,l,0,t),ps(lo(c,l));break e}}i=c=lo(c,l),4!==Al&&(Al=2),null===Ml?Ml=[i]:Ml.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,fo(0,c,t));break e;case 1:l=c;var b=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Hl||!Hl.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Fs(i,po(i,l,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(w){t=w,Cl===n&&null!==n&&(Cl=n=n.return);continue}break}}function fc(){var e=jl.current;return jl.current=Qi,null===e?Qi:e}function pc(){0!==Al&&3!==Al&&2!==Al||(Al=4),null===Tl||0===(268435455&Ll)&&0===(268435455&Dl)||ic(Tl,Rl)}function mc(e,t){var n=El;El|=2;var r=fc();for(Tl===e&&Rl===t||(Wl=null,dc(e,t));;)try{gc();break}catch(a){hc(e,a)}if(Ns(),El=n,jl.current=r,null!==Cl)throw Error(s(261));return Tl=null,Rl=0,Al}function gc(){for(;null!==Cl;)bc(Cl)}function vc(){for(;null!==Cl&&!Je();)bc(Cl)}function bc(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?yc(e):Cl=t,Sl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ko(n,t,Ol)))return void(Cl=n)}else{if(null!==(n=$o(n,t)))return n.flags&=32767,void(Cl=n);if(null===e)return Al=6,void(Cl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Cl=t);Cl=t=e}while(null!==t);0===Al&&(Al=5)}function wc(e,t,n){var r=yt,a=Nl.transition;try{Nl.transition=null,yt=1,function(e,t,n,r){do{xc()}while(null!==$l);if(0!==(6&El))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===Tl&&(Cl=Tl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Tc(tt,function(){return xc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Nl.transition,Nl.transition=null;var o=yt;yt=1;var l=El;El|=4,Sl.current=null,function(e,t){if(ea=Vt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==a&&3!==h.nodeType||(l=o+a),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===a&&(l=o),f===i&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Qo=t;null!==Qo;)if(e=(t=Qo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qo=e;else for(;null!==Qo;){t=Qo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:to(t.type,g),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qo=e;break}Qo=t.return}m=el,el=!1}(e,n),ml(n,e),pr(ta),Vt=!!ea,ta=ea=null,e.current=n,vl(n,e,a),Ye(),El=l,yt=o,Nl.transition=i}else e.current=n;if(Kl&&(Kl=!1,$l=e,Gl=a),i=e.pendingLanes,0===i&&(Hl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ql)throw ql=!1,e=Vl,Vl=null,e;0!==(1&Gl)&&0!==e.tag&&xc(),i=e.pendingLanes,0!==(1&i)?e===Yl?Jl++:(Jl=0,Yl=e):Jl=0,Wa()}(e,t,n,r)}finally{Nl.transition=a,yt=r}return null}function xc(){if(null!==$l){var e=wt(Gl),t=Nl.transition,n=yt;try{if(Nl.transition=null,yt=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Gl=0,0!==(6&El))throw Error(s(331));var a=El;for(El|=4,Qo=e.current;null!==Qo;){var i=Qo,o=i.child;if(0!==(16&Qo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qo=u;null!==Qo;){var d=Qo;switch(d.tag){case 0:case 11:case 15:tl(8,d,i)}var h=d.child;if(null!==h)h.return=d,Qo=h;else for(;null!==Qo;){var f=(d=Qo).sibling,p=d.return;if(al(d),d===u){Qo=null;break}if(null!==f){f.return=p,Qo=f;break}Qo=p}}}var m=i.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Qo=o;else e:for(;null!==Qo;){if(0!==(2048&(i=Qo).flags))switch(i.tag){case 0:case 11:case 15:tl(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Qo=b;break e}Qo=i.return}}var y=e.current;for(Qo=y;null!==Qo;){var w=(o=Qo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Qo=w;else e:for(o=y;null!==Qo;){if(0!==(2048&(l=Qo).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(k){_c(l,l.return,k)}if(l===o){Qo=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qo=x;break e}Qo=l.return}}if(El=a,Wa(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{yt=n,Nl.transition=t}}return!1}function kc(e,t,n){e=zs(e,t=fo(0,t=lo(n,t),1),1),t=Zl(),null!==e&&(vt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=zs(t,e=po(t,e=lo(n,e),1),1),e=Zl(),null!==t&&(vt(t,1,e),nc(t,e));break}}t=t.return}}function jc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Zl(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Rl&n)===n&&(4===Al||3===Al&&(130023424&Rl)===Rl&&500>Qe()-Bl?dc(e,0):Ul|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Zl();null!==(e=Is(e,t))&&(vt(e,t,n),nc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function Tc(e,t){return $e(e,t)}function Cc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Cc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ac(e,t,n,r,a,i){var o=2;if(r=e,"function"===typeof e)Oc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case _:return Ic(n.children,a,i,t);case j:o=8,a|=8;break;case S:return(e=Rc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case C:return(e=Rc(13,n,t,a)).elementType=C,e.lanes=i,e;case R:return(e=Rc(19,n,t,a)).elementType=R,e.lanes=i,e;case A:return Lc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:o=10;break e;case E:o=9;break e;case T:o=11;break e;case O:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ic(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=A,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,r,a,s,i,o,l){return e=new Mc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Bc(e){if(!e)return Ea;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pa(n))return La(e,n,t)}return t}function Fc(e,t,n,r,a,s,i,o,l){return(e=zc(n,r,!0,e,0,s,0,o,l)).context=Bc(null),n=e.current,(s=Ms(r=Zl(),a=ec(n))).callback=void 0!==t&&null!==t?t:null,zs(n,s,a),e.current.lanes=a,vt(e,a,r),nc(e,r),e}function Wc(e,t,n,r){var a=t.current,s=Zl(),i=ec(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ms(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zs(a,t,i))&&(tc(e,a,i,s),Bs(e,a,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ca.current)yo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yo=!1,function(e,t,n){switch(t.tag){case 3:Co(t),fs();break;case 5:Qs(t);break;case 1:Pa(t.type)&&Da(t);break;case 4:Js(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(ks,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Do(e,t,n):(Na(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);Na(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Fo(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,jo(e,t,n)}return qo(e,t,n)}(e,t,n);yo=0!==(131072&e.flags)}else yo=!1,as&&0!==(1048576&t.flags)&&Za(t,Ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var a=Oa(t,Ta.current);Cs(t,n),a=mi(null,t,r,e,a,n);var i=gi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pa(r)?(i=!0,Da(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ds(t),a.updater=ro,t.stateNode=a,a._reactInternals=t,oo(t,r,e,n),t=To(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),wo(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===O)return 14}return 2}(r),e=to(r,e),a){case 0:t=No(null,t,r,e,n);break e;case 1:t=Eo(null,t,r,e,n);break e;case 11:t=xo(null,t,r,e,n);break e;case 14:t=ko(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,No(e,t,r,a=t.elementType===r?a:to(r,a),n);case 1:return r=t.type,a=t.pendingProps,Eo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 3:e:{if(Co(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Us(e,t),Ws(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Ro(e,t,r,n,a=lo(Error(s(423)),t));break e}if(r!==a){t=Ro(e,t,r,n,a=lo(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===a){t=qo(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return Qs(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,o=a.children,na(r,a)?o=null:null!==i&&na(r,i)&&(t.flags|=32),So(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Do(e,t,n);case 4:return Js(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xo(e,t,r,a=t.elementType===r?a:to(r,a),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Na(ks,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===a.children&&!Ca.current){t=qo(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Ms(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Ts(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}wo(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Cs(t,n),r=r(a=Rs(a)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return a=to(r=t.type,t.pendingProps),ko(e,t,r,a=to(r.type,a),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:to(r,a),Wo(e,t),t.tag=1,Pa(r)?(e=!0,Da(t)):e=!1,Cs(t,n),so(t,r,a),oo(t,r,a,n),To(null,t,r,!0,e,n);case 19:return Fo(e,t,n);case 22:return jo(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Xc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var o=a;a=function(){var e=qc(i);o.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=qc(i);s.call(e)}}var i=Fc(t,r,e,0,null,!1,0,"",Qc);return e._reactRootContainer=i,e[pa]=i.current,Wr(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=l,e[pa]=l.current,Wr(8===e.nodeType?e.parentNode:e),cc(function(){Wc(t,l,n,r)}),l}(n,t,e,a,r);return qc(i)}Gc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Gc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc(function(){Wc(null,e,null,null)}),t[pa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<At.length&&0!==t&&t<At[n].priority;n++);At.splice(n,0,e),0===n&&Ut(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),nc(t,Qe()),0===(6&El)&&(Fl=Qe()+500,Wa()))}break;case 13:cc(function(){var t=Is(e,1);if(null!==t){var n=Zl();tc(t,e,1,n)}}),Hc(e,1)}},kt=function(e){if(13===e.tag){var t=Is(e,134217728);if(null!==t)tc(t,e,134217728,Zl());Hc(e,134217728)}},_t=function(e){if(13===e.tag){var t=ec(e),n=Is(e,t);if(null!==n)tc(n,e,t,Zl());Hc(e,t)}},jt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},ke=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=xa(r);if(!a)throw Error(s(90));$(r),X(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=lc,Ce=cc;var Zc={usingClientEntryPoint:!1,Events:[ya,wa,xa,Ne,Ee,lc]},eu={findFiberByHostInstance:ba,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{at=nu.inject(tu),st=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,r,a),e[pa]=t.current,Wr(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",o=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Fc(t,null,e,1,null!=n?n:null,a,0,i,o),e[pa]=t.current,Wr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(cc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[pa]=null})}),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391(e,t,n){var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153(e,t,n){var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function b(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var w=y.prototype=new b;w.constructor=y,m(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,o=null;if(null!=t)for(a in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!j.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:n,type:e,key:i,ref:o,props:s,_owner:_.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function C(e,t,a,s,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===s?"."+T(l,0):s,x(i)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),C(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=C(o,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,a,u=s+T(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],a=0;return C(e,r,"","",function(e){return t.call(n,e,a++)}),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},A={transition:null},I={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:A,ReactCurrentOwner:_};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return R(e,function(){t++}),t},toArray:function(e){return R(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=_.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!j.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=A.transition;A.transition={};try{e()}finally{A.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43(e,t,n){e.exports=n(202)},579(e,t,n){e.exports=n(153)},234(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<a&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,w(e),!m)if(null!==r(c))m=!0,A(k);else{var t=r(u);null!==t&&I(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,b(N),N=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!C());){var i=h.callback;if("function"===typeof i){h.callback=null,f=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&a(c),w(n)}else a(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&I(x,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,j=!1,S=null,N=-1,E=5,T=-1;function C(){return!(t.unstable_now()-T<E)}function R(){if(null!==S){var e=t.unstable_now();T=e;var n=!0;try{n=S(!0,e)}finally{n?_():(j=!1,S=null)}}else j=!1}if("function"===typeof y)_=function(){y(R)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,P=O.port2;O.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){v(R,0)};function A(e){S=e,j||(j=!0,_())}function I(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,A(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(N),N=-1):g=!0,I(x,s-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,A(k))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(234)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),a=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function d(e,t,n,r){return new(n||(n=Promise))(function(a,s){function i(e){try{l(r.next(e))}catch(t){s(t)}}function o(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,o)}l((r=r.apply(e,t||[])).next())})}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class h extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",n=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=n}}class f extends h{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p extends h{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class m extends h{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var g;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(g||(g={}));class v{constructor(e){let{headers:t={},customFetch:n,region:r=g.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=r,this.fetch=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){return d(this,arguments,void 0,function(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){var r;let a,s;try{const{headers:i,method:o,body:l,signal:c,timeout:u}=n;let d={},{region:h}=n;h||(h=t.region);const g=new URL("".concat(t.url,"/").concat(e));let v;h&&"any"!==h&&(d["x-region"]=h,g.searchParams.set("forceFunctionRegion",h)),l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",v=l):"string"===typeof l?(d["Content-Type"]="text/plain",v=l):"undefined"!==typeof FormData&&l instanceof FormData?v=l:(d["Content-Type"]="application/json",v=JSON.stringify(l)):v=!l||"string"===typeof l||"undefined"!==typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"undefined"!==typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let b=c;u&&(s=new AbortController,a=setTimeout(()=>s.abort(),u),c?(b=s.signal,c.addEventListener("abort",()=>s.abort())):b=s.signal);const y=yield t.fetch(g.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),t.headers),i),body:v,signal:b}).catch(e=>{throw new f(e)}),w=y.headers.get("x-relay-error");if(w&&"true"===w)throw new p(y);if(!y.ok)throw new m(y);let x,k=(null!==(r=y.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return x="application/json"===k?yield y.json():"application/octet-stream"===k||"application/pdf"===k?yield y.blob():"text/event-stream"===k?y:"multipart/form-data"===k?yield y.formData():yield y.text(),{data:x,error:null,response:y}}catch(i){return{data:null,error:i,response:i instanceof m||i instanceof p?i.context:void 0}}finally{a&&clearTimeout(a)}}()})}}var b=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},y=class{constructor(e){var t,n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!==(t=e.shouldThrowOnError)&&void 0!==t&&t,this.signal=e.signal,this.isMaybeSingle=null!==(n=e.isMaybeSingle)&&void 0!==n&&n,this.urlLengthLimit=null!==(r=e.urlLengthLimit)&&void 0!==r?r:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{let t=null,r=null,a=null,s=e.status,i=e.statusText;if(e.ok){var o,l;if("HEAD"!==n.method){var c;const t=await e.text();""===t||(r="text/csv"===n.headers.get("Accept")||n.headers.get("Accept")&&(null===(c=n.headers.get("Accept"))||void 0===c?void 0:c.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}const u=null===(o=n.headers.get("Prefer"))||void 0===o?void 0:o.match(/count=(exact|planned|estimated)/),d=null===(l=e.headers.get("content-range"))||void 0===l?void 0:l.split("/");u&&d&&d.length>1&&(a=parseInt(d[1])),n.isMaybeSingle&&"GET"===n.method&&Array.isArray(r)&&(r.length>1?(t={code:"PGRST116",details:"Results contain ".concat(r.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},r=null,a=null,s=406,i="Not Acceptable"):r=1===r.length?r[0]:null)}else{var u;const a=await e.text();try{t=JSON.parse(a),Array.isArray(t)&&404===e.status&&(r=[],t=null,s=200,i="OK")}catch(d){404===e.status&&""===a?(s=204,i="No Content"):t={message:a}}if(t&&n.isMaybeSingle&&(null===t||void 0===t||null===(u=t.details)||void 0===u?void 0:u.includes("0 rows"))&&(t=null,s=200,i="OK"),t&&n.shouldThrowOnError)throw new b(t)}return{error:t,data:r,count:a,status:s,statusText:i}});return this.shouldThrowOnError||(r=r.catch(e=>{var t;let n="",r="",a="";const s=null===e||void 0===e?void 0:e.cause;if(s){var i,o,l,c;const t=null!==(i=null===s||void 0===s?void 0:s.message)&&void 0!==i?i:"",r=null!==(o=null===s||void 0===s?void 0:s.code)&&void 0!==o?o:"";n="".concat(null!==(l=null===e||void 0===e?void 0:e.name)&&void 0!==l?l:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),n+="\n\nCaused by: ".concat(null!==(c=null===s||void 0===s?void 0:s.name)&&void 0!==c?c:"Error",": ").concat(t),r&&(n+=" (".concat(r,")")),(null===s||void 0===s?void 0:s.stack)&&(n+="\n".concat(s.stack))}else{var u;n=null!==(u=null===e||void 0===e?void 0:e.stack)&&void 0!==u?u:""}const d=this.url.toString().length;return"AbortError"===(null===e||void 0===e?void 0:e.name)||"ABORT_ERR"===(null===e||void 0===e?void 0:e.code)?(a="",r="Request was aborted (timeout or manual cancellation)",d>this.urlLengthLimit&&(r+=". Note: Your request URL is ".concat(d," characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side."))):"HeadersOverflowError"!==(null===s||void 0===s?void 0:s.name)&&"UND_ERR_HEADERS_OVERFLOW"!==(null===s||void 0===s?void 0:s.code)||(a="",r="HTTP headers exceeded server limits (typically 16KB)",d>this.urlLengthLimit&&(r+=". Your request URL is ".concat(d," characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead."))),{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:n,hint:r,code:a},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},w=class extends y{select(e){let t=!1;const n=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e){let{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:a=r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(i?"".concat(i,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===n?"":n?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(r,"".concat(e)),this}range(e,t){let{foreignTable:n,referencedTable:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof r?"offset":"".concat(r,".offset"),s="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain(){let{analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var i;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(i=this.headers.get("Accept"))&&void 0!==i?i:"application/json";return this.headers.set("Accept","application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(o,";")),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer","max-affected=".concat(e)),this}};const x=new RegExp("[,()]");var k=class extends w{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}regexMatch(e,t){return this.url.searchParams.append(e,"match.".concat(t)),this}regexIMatch(e,t){return this.url.searchParams.append(e,"imatch.".concat(t)),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}isDistinct(e,t){return this.url.searchParams.append(e,"isdistinct.".concat(t)),this}in(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&x.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"in.(".concat(n,")")),this}notIn(e,t){const n=Array.from(new Set(t)).map(e=>"string"===typeof e&&x.test(e)?'"'.concat(e,'"'):"".concat(e)).join(",");return this.url.searchParams.append(e,"not.in.(".concat(n,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:n,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===r?a="pl":"phrase"===r?a="ph":"websearch"===r&&(a="w");const s=void 0===n?"":"(".concat(n,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach(e=>{let[t,n]=e;this.url.searchParams.append(t,"eq.".concat(n))}),this}not(e,t,n){return this.url.searchParams.append(e,"not.".concat(t,".").concat(n)),this}or(e){let{foreignTable:t,referencedTable:n=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n?"".concat(n,".or"):"or";return this.url.searchParams.append(r,"(".concat(e,")")),this}filter(e,t,n){return this.url.searchParams.append(e,"".concat(t,".").concat(n)),this}},_=class{constructor(e,t){let{headers:n={},schema:r,fetch:a,urlLengthLimit:s=8e3}=t;this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=a,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=null!==t&&void 0!==t?t:{},a=n?"HEAD":"GET";let s=!1;const i=(null!==e&&void 0!==e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),r&&l.append("Prefer","count=".concat(r)),new k({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e){let{count:t,defaultToNull:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;const{url:a,headers:s}=this.cloneRequestState();if(t&&s.append("Prefer","count=".concat(t)),n||s.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));a.searchParams.set("columns",e.join(","))}}return new k({method:"POST",url:a,headers:s,schema:this.schema,body:e,fetch:null!==(r=this.fetch)&&void 0!==r?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e){let{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:a=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var s;const{url:i,headers:o}=this.cloneRequestState();if(o.append("Prefer","resolution=".concat(n?"ignore":"merge","-duplicates")),void 0!==t&&i.searchParams.set("on_conflict",t),r&&o.append("Prefer","count=".concat(r)),a||o.append("Prefer","missing=default"),Array.isArray(e)){const t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){const e=[...new Set(t)].map(e=>'"'.concat(e,'"'));i.searchParams.set("columns",e.join(","))}}return new k({method:"POST",url:i,headers:o,schema:this.schema,body:e,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer","count=".concat(t)),new k({method:"PATCH",url:r,headers:a,schema:this.schema,body:e,fetch:null!==(n=this.fetch)&&void 0!==n?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{url:n,headers:r}=this.cloneRequestState();return e&&r.append("Prefer","count=".concat(e)),new k({method:"DELETE",url:n,headers:r,schema:this.schema,fetch:null!==(t=this.fetch)&&void 0!==t?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function N(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=class e{constructor(e){let{headers:t={},schema:n,fetch:r,timeout:a,urlLengthLimit:s=8e3}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=new Headers(t),this.schemaName=n,this.urlLengthLimit=s;const i=null!==r&&void 0!==r?r:globalThis.fetch;this.fetch=void 0!==a&&a>0?(e,t)=>{const n=new AbortController,r=setTimeout(()=>n.abort(),a),s=null===t||void 0===t?void 0:t.signal;if(s){if(s.aborted)return clearTimeout(r),i(e,t);const a=()=>{clearTimeout(r),n.abort()};return s.addEventListener("abort",a,{once:!0}),i(e,T(T({},t),{},{signal:n.signal})).finally(()=>{clearTimeout(r),s.removeEventListener("abort",a)})}return i(e,T(T({},t),{},{signal:n.signal})).finally(()=>clearTimeout(r))}:i}from(e){if(!e||"string"!==typeof e||""===e.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");return new _(new URL("".concat(this.url,"/").concat(e)),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:r=!1,count:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var s;let i;const o=new URL("".concat(this.url,"/rpc/").concat(e));let l;const c=e=>null!==e&&"object"===typeof e&&(!Array.isArray(e)||e.some(c)),u=n&&Object.values(t).some(c);u?(i="POST",l=t):n||r?(i=n?"HEAD":"GET",Object.entries(t).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,Array.isArray(n)?"{".concat(n.join(","),"}"):"".concat(n)]}).forEach(e=>{let[t,n]=e;o.searchParams.append(t,n)})):(i="POST",l=t);const d=new Headers(this.headers);return u?d.set("Prefer",a?"count=".concat(a,",return=minimal"):"return=minimal"):a&&d.set("Prefer","count=".concat(a)),new k({method:i,url:o,headers:d,schema:this.schemaName,body:l,fetch:null!==(s=this.fetch)&&void 0!==s?s:fetch,urlLengthLimit:this.urlLengthLimit})}};const R=class{constructor(){}static detectEnvironment(){var e;if("undefined"!==typeof WebSocket)return{type:"native",constructor:WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if("undefined"!==typeof n.g&&"undefined"!==typeof n.g.WebSocket)return{type:"native",constructor:n.g.WebSocket};if("undefined"!==typeof globalThis&&"undefined"!==typeof globalThis.WebSocketPair&&"undefined"===typeof globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("undefined"!==typeof globalThis&&globalThis.EdgeRuntime||"undefined"!==typeof navigator&&(null===(e=navigator.userAgent)||void 0===e?void 0:e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const e=t.versions;if(e&&e.node){const t=e.node,n=parseInt(t.replace(/^v/,"").split(".")[0]);return n>=22?"undefined"!==typeof globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:"Node.js ".concat(n," detected but native WebSocket not found."),workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:"Node.js ".concat(n," detected without native WebSocket support."),workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+="\n\nSuggested solution: ".concat(e.workaround)),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}};const O="realtime-js/".concat("2.94.0"),P="2.0.0",A=P,I=1e4;var L,D,U,M,z,B;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(L||(L={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(D||(D={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(U||(U={})),function(e){e.websocket="websocket"}(M||(M={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(z||(z={}));class F{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!==e&&void 0!==e?e:[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&"string"===typeof e.payload.event)return t(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null===(t=e.payload)||void 0===t?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var t,n;const r=null!==(n=null===(t=e.payload)||void 0===t?void 0:t.payload)&&void 0!==n?n:{},a=(new TextEncoder).encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,n){var r,a;const s=e.topic,i=null!==(r=e.ref)&&void 0!==r?r:"",o=null!==(a=e.join_ref)&&void 0!==a?a:"",l=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},u=0===Object.keys(c).length?"":JSON.stringify(c);if(o.length>255)throw new Error("joinRef length ".concat(o.length," exceeds maximum of 255"));if(i.length>255)throw new Error("ref length ".concat(i.length," exceeds maximum of 255"));if(s.length>255)throw new Error("topic length ".concat(s.length," exceeds maximum of 255"));if(l.length>255)throw new Error("userEvent length ".concat(l.length," exceeds maximum of 255"));if(u.length>255)throw new Error("metadata length ".concat(u.length," exceeds maximum of 255"));const d=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+i.length+s.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+d);let f=new DataView(h),p=0;f.setUint8(p++,this.KINDS.userBroadcastPush),f.setUint8(p++,o.length),f.setUint8(p++,i.length),f.setUint8(p++,s.length),f.setUint8(p++,l.length),f.setUint8(p++,u.length),f.setUint8(p++,t),Array.from(o,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(i,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(s,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(l,e=>f.setUint8(p++,e.charCodeAt(0))),Array.from(u,e=>f.setUint8(p++,e.charCodeAt(0)));var m=new Uint8Array(h.byteLength+n.byteLength);return m.set(new Uint8Array(h),0),m.set(new Uint8Array(n),h.byteLength),m.buffer}decode(e,t){if(this._isArrayBuffer(e)){return t(this._binaryDecode(e))}if("string"===typeof e){const n=JSON.parse(e),[r,a,s,i,o]=n;return t({join_ref:r,ref:a,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){const t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,r)}_decodeUserBroadcast(e,t,n){const r=t.getUint8(1),a=t.getUint8(2),s=t.getUint8(3),i=t.getUint8(4);let o=this.HEADER_LENGTH+4;const l=n.decode(e.slice(o,o+r));o+=r;const c=n.decode(e.slice(o,o+a));o+=a;const u=n.decode(e.slice(o,o+s));o+=s;const d=e.slice(o,e.byteLength),h=i===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,f={type:this.BROADCAST_EVENT,event:c,payload:h};return s>0&&(f.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||"ArrayBuffer"===(null===(t=null===e||void 0===e?void 0:e.constructor)||void 0===t?void 0:t.name)}_pick(e,t){return e&&"object"===typeof e?Object.fromEntries(Object.entries(e).filter(e=>{let[n]=e;return t.includes(n)})):{}}}class W{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(B||(B={}));const q=function(e,t){var n;const r=null!==(n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==n?n:[];return t?Object.keys(t).reduce((n,a)=>(n[a]=V(a,e,t,r),n),{}):{}},V=(e,t,n,r)=>{const a=t.find(t=>t.name===e),s=null===a||void 0===a?void 0:a.type,i=n[e];return s&&!r.includes(s)?H(s,i):K(i)},H=(e,t)=>{if("_"===e.charAt(0)){const n=e.slice(1,e.length);return Y(t,n)}switch(e){case B.bool:return $(t);case B.float4:case B.float8:case B.int2:case B.int4:case B.int8:case B.numeric:case B.oid:return G(t);case B.json:case B.jsonb:return J(t);case B.timestamp:return Q(t);case B.abstime:case B.date:case B.daterange:case B.int4range:case B.int8range:case B.money:case B.reltime:case B.text:case B.time:case B.timestamptz:case B.timetz:case B.tsrange:case B.tstzrange:default:return K(t)}},K=e=>e,$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},G=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},J=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e}return e},Y=(e,t)=>{if("string"!==typeof e)return e;const n=e.length-1,r=e[n];if("{"===e[0]&&"}"===r){let r;const s=e.slice(1,n);try{r=JSON.parse("["+s+"]")}catch(a){r=s?s.split(","):[]}return r.map(e=>H(t,e))}return e},Q=e=>"string"===typeof e?e.replace(" ","T"):e,X=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Z{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;this.channel=e,this.event=t,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t(null===(n=this.receivedResp)||void 0===n?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:n}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ee,te,ne,re;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(ee||(ee={}));class ae{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ae.syncState(this.state,e,t,n),this.pendingDiffs.forEach(e=>{this.state=ae.syncDiff(this.state,e,t,n)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},e=>{const{onJoin:t,onLeave:n,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=ae.syncDiff(this.state,e,t,n),r())}),this.onJoin((e,t,n)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:n})}),this.onLeave((e,t,n)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:n})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,r){const a=this.cloneDeep(e),s=this.transformState(t),i={},o={};return this.map(a,(e,t)=>{s[e]||(o[e]=t)}),this.map(s,(e,t)=>{const n=a[e];if(n){const r=t.map(e=>e.presence_ref),a=n.map(e=>e.presence_ref),s=t.filter(e=>a.indexOf(e.presence_ref)<0),l=n.filter(e=>r.indexOf(e.presence_ref)<0);s.length>0&&(i[e]=s),l.length>0&&(o[e]=l)}else i[e]=t}),this.syncDiff(a,{joins:i,leaves:o},n,r)}static syncDiff(e,t,n,r){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(a,(t,r)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(r),s.length>0){const n=e[t].map(e=>e.presence_ref),r=s.filter(e=>n.indexOf(e.presence_ref)<0);e[t].unshift(...r)}n(t,s,r)}),this.map(s,(t,n)=>{let a=e[t];if(!a)return;const s=n.map(e=>e.presence_ref);a=a.filter(e=>s.indexOf(e.presence_ref)<0),e[t]=a,r(t,a,n),0===a.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const r=e[n];return t[n]="metas"in r?r.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):r,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(te||(te={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(ne||(ne={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(re||(re={}));class se{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},n=arguments.length>2?arguments[2]:void 0;var r,a;if(this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=D.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Z(this,U.join,this.params,this.timeout),this.rejoinTimer=new W(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=D.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=D.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=D.errored,this.rejoinTimer.scheduleTimeout())}),this._on(U.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new ae(this),this.broadcastEndpointURL=X(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null===(a=null===(r=this.params.config)||void 0===r?void 0:r.broadcast)||void 0===a?void 0:a.replay))throw"tried to use replay on public channel '".concat(this.topic,"'. It must be a private channel.")}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var n,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==D.closed){const{config:{broadcast:s,presence:i,private:o}}=this.params,l=null!==(r=null===(n=this.bindings.postgres_changes)||void 0===n?void 0:n.map(e=>e.filter))&&void 0!==r?r:[],c=!!this.bindings[ne.PRESENCE]&&this.bindings[ne.PRESENCE].length>0||!0===(null===(a=this.params.config.presence)||void 0===a?void 0:a.enabled),u={},d={broadcast:s,presence:Object.assign(Object.assign({},i),{enabled:c}),postgres_changes:l,private:o};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(t=>null===e||void 0===e?void 0:e(re.CHANNEL_ERROR,t)),this._onClose(()=>null===e||void 0===e?void 0:e(re.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async t=>{let{postgres_changes:n}=t;var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0!==n){const t=this.bindings.postgres_changes,a=null!==(r=null===t||void 0===t?void 0:t.length)&&void 0!==r?r:0,s=[];for(let r=0;r<a;r++){const a=t[r],{filter:{event:i,schema:o,table:l,filter:c}}=a,u=n&&n[r];if(!(u&&u.event===i&&se.isFilterValueEqual(u.schema,o)&&se.isFilterValueEqual(u.table,l)&&se.isFilterValueEqual(u.filter,c)))return this.unsubscribe(),this.state=D.errored,void(null===e||void 0===e||e(re.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(re.SUBSCRIBED))}null===e||void 0===e||e(re.SUBSCRIBED)}).receive("error",t=>{this.state=D.errored,null===e||void 0===e||e(re.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null===e||void 0===e||e(re.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this.state===D.joined&&e===ne.PRESENCE&&(this.socket.log("channel","resubscribe to ".concat(this.topic," due to change in presence callbacks on joined channel")),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,n)}async httpSend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r;if(void 0===t||null===t)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization="Bearer ".concat(this.socket.accessTokenValue));const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},i=await this._fetchWithTimeout(this.broadcastEndpointURL,s,null!==(r=n.timeout)&&void 0!==r?r:this.timeout);if(202===i.status)return{success:!0};let o=i.statusText;try{const e=await i.json();o=e.error||e.message||o}catch(l){}return Promise.reject(new Error(o))}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;if(this._canPush()||"broadcast"!==e.type)return new Promise(n=>{var r,a,s;const i=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(r=this.params)||void 0===r?void 0:r.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||n("ok"),i.receive("ok",()=>n("ok")),i.receive("error",()=>n("error")),i.receive("timeout",()=>n("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization="Bearer ".concat(this.socket.accessTokenValue));const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,l,null!==(n=t.timeout)&&void 0!==n?n:this.timeout);return await(null===(r=e.body)||void 0===r?void 0:r.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=D.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(U.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(r=>{n=new Z(this,U.leave,{},e),n.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{null===n||void 0===n||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=D.closed,this.bindings={}}async _fetchWithTimeout(e,t,n){const r=new AbortController,a=setTimeout(()=>r.abort(),n),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:r.signal}));return clearTimeout(a),s}_push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let r=new Z(this,e,t,n);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel","discarded push due to buffer overflow: ".concat(e.event),e.payload))}}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var r,a;const s=e.toLocaleLowerCase(),{close:i,error:o,leave:l,join:c}=U;if(n&&[i,o,l,c].indexOf(s)>=0&&n!==this._joinRef())return;let u=this._onMessage(s,t,n);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(r=this.bindings.postgres_changes)||void 0===r||r.filter(e=>{var t,n,r;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(r=null===(n=e.filter)||void 0===n?void 0:n.event)||void 0===r?void 0:r.toLocaleLowerCase())===s}).map(e=>e.callback(u,n)):null===(a=this.bindings[s])||void 0===a||a.filter(e=>{var n,r,a,i,o,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,i=null===(n=e.filter)||void 0===n?void 0:n.event;return s&&(null===(r=t.ids)||void 0===r?void 0:r.includes(s))&&("*"===i||(null===i||void 0===i?void 0:i.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const n=null===(o=null===(i=null===e||void 0===e?void 0:e.filter)||void 0===i?void 0:i.event)||void 0===o?void 0:o.toLocaleLowerCase();return"*"===n||n===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s}).map(e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:n,commit_timestamp:r,type:a,errors:s}=e,i={schema:t,table:n,commit_timestamp:r,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},i),this._getPayloadRecords(e))}e.callback(u,n)})}_isClosed(){return this.state===D.closed}_isJoined(){return this.state===D.joined}_isJoining(){return this.state===D.joining}_isLeaving(){return this.state===D.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,n){const r=e.toLocaleLowerCase(),a={type:r,filter:t,callback:n};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(e=>{var r;return!((null===(r=e.type)||void 0===r?void 0:r.toLocaleLowerCase())===n&&se.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}static isFilterValueEqual(e,t){return(null!==e&&void 0!==e?e:void 0)===(null!==t&&void 0!==t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(U.close,{},e)}_onError(e){this._on(U.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=D.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=q(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=q(e.columns,e.old_record)),t}}const ie=()=>{},oe=25e3,le=10,ce=100,ue=[1e3,2e3,5e3,1e4];class de{constructor(e,t){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=I,this.transport=null,this.heartbeatIntervalMs=oe,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ie,this.ref=0,this.reconnectTimer=null,this.vsn=A,this.logger=ie,this.conn=null,this.sendBuffer=[],this.serializer=new F,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},!(null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint="".concat(e,"/").concat(M.websocket),this.httpEndpoint=X(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=R.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;if(t.includes("Node.js"))throw new Error("".concat(t,"\n\n")+'To use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })');throw new Error("WebSocket not available: ".concat(t))}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},"function"===typeof this.conn.close&&(e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case L.connecting:return z.Connecting;case L.open:return z.Open;case L.closing:return z.Closing;default:return z.Closed}}isConnected(){return this.connectionState()===z.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const n="realtime:".concat(e),r=this.getChannels().find(e=>e.topic===n);if(r)return r;{const n=new se("realtime:".concat(e),t,this);return this.channels.push(n),n}}push(e){const{topic:t,event:n,payload:r,ref:a}=e,s=()=>{this.encode(e,e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)})};this.log("push","".concat(t," ").concat(n," (").concat(a,")"),r),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}return this._wasManualDisconnect=!1,null===(e=this.conn)||void 0===e||e.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var e;this.isConnected()||null===(e=this.reconnectTimer)||void 0===e||e.scheduleTimeout()},ce)}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}else try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){const t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(o){this.log("error","error in heartbeat callback",o)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:t,event:n,payload:r,ref:a}=e,s=a?"(".concat(a,")"):"",i=r.status||"";this.log("receive","".concat(i," ").concat(t," ").concat(n," ").concat(s).trim(),r),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(n,r,a)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===L.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===L.open||this.conn.readyState===L.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport","connected to ".concat(this.endpointURL()));(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport","".concat(e)),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(U.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(t);return"".concat(e).concat(n).concat(r)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=!1;if(t)e=t,n=!0;else if(this.accessToken)try{e=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),e=this.accessTokenValue}else e=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(t=>{const n={access_token:e,version:O};e&&t.updateJoinPayload(n),t.joinedOnce&&t._isJoined()&&t._push(U.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"general";this._isManualToken()||this.setAuth().catch(t=>{this.log("error","Error setting auth in ".concat(e),t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(t)}catch(r){this.log("error","error in ".concat(e," callback"),r)}})}catch(n){this.log("error","error triggering ".concat(e," callbacks"),n)}}_setupReconnectionTimer(){this.reconnectTimer=new W(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},le)},this.reconnectAfterMs)}_initializeOptions(e){var t,n,r,a,s,i,o,l,c,u,d,h;switch(this.transport=null!==(t=null===e||void 0===e?void 0:e.transport)&&void 0!==t?t:null,this.timeout=null!==(n=null===e||void 0===e?void 0:e.timeout)&&void 0!==n?n:I,this.heartbeatIntervalMs=null!==(r=null===e||void 0===e?void 0:e.heartbeatIntervalMs)&&void 0!==r?r:oe,this.worker=null!==(a=null===e||void 0===e?void 0:e.worker)&&void 0!==a&&a,this.accessToken=null!==(s=null===e||void 0===e?void 0:e.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(i=null===e||void 0===e?void 0:e.heartbeatCallback)&&void 0!==i?i:ie,this.vsn=null!==(o=null===e||void 0===e?void 0:e.vsn)&&void 0!==o?o:A,(null===e||void 0===e?void 0:e.params)&&(this.params=e.params),(null===e||void 0===e?void 0:e.logger)&&(this.logger=e.logger),((null===e||void 0===e?void 0:e.logLevel)||(null===e||void 0===e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(l=null===e||void 0===e?void 0:e.reconnectAfterMs)&&void 0!==l?l:e=>ue[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(c=null===e||void 0===e?void 0:e.encode)&&void 0!==c?c:(e,t)=>t(JSON.stringify(e)),this.decode=null!==(u=null===e||void 0===e?void 0:e.decode)&&void 0!==u?u:(e,t)=>t(JSON.parse(e));break;case P:this.encode=null!==(d=null===e||void 0===e?void 0:e.encode)&&void 0!==d?d:this.serializer.encode.bind(this.serializer),this.decode=null!==(h=null===e||void 0===e?void 0:e.decode)&&void 0!==h?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error("Unsupported serializer version: ".concat(this.vsn))}if(this.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=null===e||void 0===e?void 0:e.workerUrl}}}var he=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&!0===(null===(n=t.icebergType)||void 0===n?void 0:n.includes("CommitState"))}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function fe(e){var t;const n=null!==(t=e.fetchImpl)&&void 0!==t?t:globalThis.fetch;return{async request(t){let{method:r,path:a,query:s,body:i,headers:o}=t;const l=function(e,t,n){const r=new URL(t,e);if(n)for(const[a,s]of Object.entries(n))void 0!==s&&r.searchParams.set(a,s);return r.toString()}(e.baseUrl,a,s),u=await async function(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:"Bearer ".concat(e.token)}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}(e.auth),d=await n(l,{method:r,headers:c(c(c({},i?{"Content-Type":"application/json"}:{}),u),o),body:i?JSON.stringify(i):void 0}),h=await d.text(),f=(d.headers.get("content-type")||"").includes("application/json"),p=f&&h?JSON.parse(h):h;if(!d.ok){var m;const e=f?p:void 0,t=null===e||void 0===e?void 0:e.error;throw new he(null!==(m=null===t||void 0===t?void 0:t.message)&&void 0!==m?m:"Request failed with status ".concat(d.status),{status:d.status,icebergType:null===t||void 0===t?void 0:t.type,icebergCode:null===t||void 0===t?void 0:t.code,details:e})}return{status:d.status,headers:d.headers,data:p}}}}function pe(e){return e.join("\x1f")}var me=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:pe(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces"),query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:null===t||void 0===t?void 0:t.properties};return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces"),body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace))})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace))})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(pe(e.namespace))}),!0}catch(t){if(t instanceof he&&404===t.status)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof he&&409===n.status)return;throw n}}};function ge(e){return e.join("\x1f")}var ve=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables")})).data.identifiers}async createTable(e,t){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables"),body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables/").concat(e.name),body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){var n;await this.client.request({method:"DELETE",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables/").concat(e.name),query:{purgeRequested:String(null!==(n=null===t||void 0===t?void 0:t.purge)&&void 0!==n&&n)}})}async loadTable(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);return(await this.client.request({method:"GET",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables/").concat(e.name),headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:"".concat(this.prefix,"/namespaces/").concat(ge(e.namespace),"/tables/").concat(e.name),headers:t}),!0}catch(n){if(n instanceof he&&404===n.status)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof he&&409===n.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},be=class{constructor(e){var t;let n="v1";e.catalogName&&(n+="/".concat(e.catalogName));const r=e.baseUrl.endsWith("/")?e.baseUrl:"".concat(e.baseUrl,"/");this.client=fe({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=null===(t=e.accessDelegation)||void 0===t?void 0:t.join(","),this.namespaceOps=new me(this.client,n),this.tableOps=new ve(this.client,n,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var ye=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"storage",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function we(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}var xe=class extends ye{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";super(e,r,t,n),this.name="vectors"===r?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ke=class extends ye{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"storage";super(e,n),this.name="vectors"===n?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const _e=e=>{if(Array.isArray(e))return e.map(e=>_e(e));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;const a=n.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""));t[a]=_e(r)}),t};function je(e){return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e){var t=function(e,t){if("object"!=je(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==je(t)?t:t+""}function Ne(e,t,n){return(t=Se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach(function(t){Ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Ce=e=>{var t;return e.msg||e.message||e.error_description||("string"===typeof e.error?e.error:null===(t=e.error)||void 0===t?void 0:t.message)||JSON.stringify(e)},Re=(e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"!==e&&"HEAD"!==e&&r?((e=>{if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(r)?(a.headers=Te({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r)):a.body=r,(null===t||void 0===t?void 0:t.duplex)&&(a.duplex=t.duplex),Te(Te({},a),n)):Te(Te({},a),n)};async function Oe(e,t,n,r,a,s,i){return new Promise((o,l)=>{e(n,Re(t,r,a,s)).then(e=>{if(!e.ok)throw e;if(null===r||void 0===r?void 0:r.noResolveJson)return e;if("vectors"===i){const t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status)return{};if(!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>o(e)).catch(e=>(async(e,t,n,r)=>{if(e&&"object"===typeof e&&"status"in e&&"ok"in e&&"number"===typeof e.status&&!(null===n||void 0===n?void 0:n.noResolveJson)){const n=e,a=n.status||500;if("function"===typeof n.json)n.json().then(e=>{const n=(null===e||void 0===e?void 0:e.statusCode)||(null===e||void 0===e?void 0:e.code)||a+"";t(new xe(Ce(e),a,n,r))}).catch(()=>{if("vectors"===r){const e=a+"";t(new xe(n.statusText||"HTTP ".concat(a," error"),a,e,r))}else{const e=a+"";t(new xe(n.statusText||"HTTP ".concat(a," error"),a,e,r))}});else{const e=a+"";t(new xe(n.statusText||"HTTP ".concat(a," error"),a,e,r))}}else t(new ke(Ce(e),e,r))})(e,l,r,i))})}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"storage";return{get:async(t,n,r,a)=>Oe(t,"GET",n,r,a,void 0,e),post:async(t,n,r,a,s)=>Oe(t,"POST",n,a,s,r,e),put:async(t,n,r,a,s)=>Oe(t,"PUT",n,a,s,r,e),head:async(t,n,r,a)=>Oe(t,"HEAD",n,Te(Te({},r),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,n,r,a,s)=>Oe(t,"DELETE",n,a,s,r,e)}}const Ae=Pe("storage"),{get:Ie,post:Le,put:De,head:Ue,remove:Me}=Ae,ze=Pe("vectors");var Be=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"storage";var a;this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(a=n)?function(){return a(...arguments)}:function(){return fetch(...arguments)},this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}}},Fe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}}};let We;We=Symbol.toStringTag;var qe=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[We]="BlobDownloadBuilder",this.promise=null}asStream(){return new Fe(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await(await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(we(e))return{data:null,error:e};throw e}}};const Ve={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},He={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ke=class extends Be{constructor(e){let t=arguments.length>2?arguments[2]:void 0;super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>3?arguments[3]:void 0,"storage"),this.bucketId=t}async uploadOrUpdate(e,t,n,r){var a=this;return a.handleOperation(async()=>{let s;const i=Te(Te({},He),r);let o=Te(Te({},a.headers),"POST"===e&&{"x-upsert":String(i.upsert)});const l=i.metadata;"undefined"!==typeof Blob&&n instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=n,o["cache-control"]="max-age=".concat(i.cacheControl),o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),("undefined"!==typeof ReadableStream&&s instanceof ReadableStream||s&&"object"===typeof s&&"pipe"in s&&"function"===typeof s.pipe)&&!i.duplex&&(i.duplex="half")),(null===r||void 0===r?void 0:r.headers)&&(o=Te(Te({},o),r.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),d=await("PUT"==e?De:Le)(a.fetch,"".concat(a.url,"/object/").concat(u),s,Te({headers:o},(null===i||void 0===i?void 0:i.duplex)?{duplex:i.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+"/object/upload/sign/".concat(i));return o.searchParams.set("token",t),a.handleOperation(async()=>{let e;const t=Te({upsert:He.upsert},r),i=Te(Te({},a.headers),{"x-upsert":String(t.upsert)});return"undefined"!==typeof Blob&&n instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",n)):"undefined"!==typeof FormData&&n instanceof FormData?(e=n,e.append("cacheControl",t.cacheControl)):(e=n,i["cache-control"]="max-age=".concat(t.cacheControl),i["content-type"]=t.contentType),{path:s,fullPath:(await De(a.fetch,o.toString(),e,{headers:i})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const a=Te({},n.headers);(null===t||void 0===t?void 0:t.upsert)&&(a["x-upsert"]="true");const s=await Le(n.fetch,"".concat(n.url,"/object/upload/sign/").concat(r),{},{headers:a}),i=new URL(n.url+s.url),o=i.searchParams.get("token");if(!o)throw new ye("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Le(r.fetch,"".concat(r.url,"/object/move"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Le(r.fetch,"".concat(r.url,"/object/copy"),{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===n||void 0===n?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let a=r._getFinalPath(e),s=await Le(r.fetch,"".concat(r.url,"/object/sign/").concat(a),Te({expiresIn:t},(null===n||void 0===n?void 0:n.transform)?{transform:n.transform}:{}),{headers:r.headers});const i=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return{signedUrl:encodeURI("".concat(r.url).concat(s.signedURL).concat(i))}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const a=await Le(r.fetch,"".concat(r.url,"/object/sign/").concat(r.bucketId),{expiresIn:t,paths:e},{headers:r.headers}),s=(null===n||void 0===n?void 0:n.download)?"&download=".concat(!0===n.download?"":n.download):"";return a.map(e=>Te(Te({},e),{},{signedUrl:e.signedURL?encodeURI("".concat(r.url).concat(e.signedURL).concat(s)):null}))})}download(e,t){const n="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",r=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=r?"?".concat(r):"",s=this._getFinalPath(e);return new qe(()=>Ie(this.fetch,"".concat(this.url,"/").concat(n,"/").concat(s).concat(a),{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>_e(await Ie(t.fetch,"".concat(t.url,"/object/info/").concat(n),{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Ue(t.fetch,"".concat(t.url,"/object/").concat(n),{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(we(r)&&r instanceof ke){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&r.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",i=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==i&&r.push(i);let o=r.join("&");return""!==o&&(o="?".concat(o)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(n).concat(o))}}}async remove(e){var t=this;return t.handleOperation(async()=>await Me(t.fetch,"".concat(t.url,"/object/").concat(t.bucketId),{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const a=Te(Te(Te({},Ve),t),{},{prefix:e||""});return await Le(r.fetch,"".concat(r.url,"/object/list/").concat(r.bucketId),a,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=Te({},e);return await Le(n.fetch,"".concat(n.url,"/object/list-v2/").concat(n.bucketId),r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e.replace(/^\/+/,""))}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}};const $e={"X-Client-Info":"storage-js/".concat("2.94.0")};var Ge=class extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const a=new URL(e);(null===r||void 0===r?void 0:r.useNewHostname)&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));super(a.href.replace(/\/$/,""),Te(Te({},$e),t),n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Ie(t.fetch,"".concat(t.url,"/bucket").concat(n),{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ie(t.fetch,"".concat(t.url,"/bucket/").concat(e),{headers:t.headers}))}async createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};var n=this;return n.handleOperation(async()=>await Le(n.fetch,"".concat(n.url,"/bucket"),{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await De(n.fetch,"".concat(n.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Le(t.fetch,"".concat(t.url,"/bucket/").concat(e,"/empty"),{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Me(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Je=class extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Te(Te({},$e),t),n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Le(t.fetch,"".concat(t.url,"/bucket"),{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;void 0!==(null===e||void 0===e?void 0:e.limit)&&n.set("limit",e.limit.toString()),void 0!==(null===e||void 0===e?void 0:e.offset)&&n.set("offset",e.offset.toString()),(null===e||void 0===e?void 0:e.sortColumn)&&n.set("sortColumn",e.sortColumn),(null===e||void 0===e?void 0:e.sortOrder)&&n.set("sortOrder",e.sortOrder),(null===e||void 0===e?void 0:e.search)&&n.set("search",e.search);const r=n.toString(),a=r?"".concat(t.url,"/bucket?").concat(r):"".concat(t.url,"/bucket");return await Ie(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Me(t.fetch,"".concat(t.url,"/bucket/").concat(e),{},{headers:t.headers}))}from(e){var t=this;if(!(e=>!(!e||"string"!==typeof e)&&!(0===e.length||e.length>100)&&e.trim()===e&&!e.includes("/")&&!e.includes("\\")&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e))(e))throw new ye("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new be({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(e,t){const n=e[t];return"function"!==typeof n?n:async function(){try{for(var t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return{data:await n.apply(e,a),error:null}}catch(i){if(r)throw i;return{data:null,error:i}}}}})}},Ye=class extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Te(Te({},$e),{},{"Content-Type":"application/json"},t),n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/CreateIndex"),e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ze.post(n.fetch,"".concat(n.url,"/GetIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/ListIndexes"),e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ze.post(n.fetch,"".concat(n.url,"/DeleteIndex"),{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},Qe=class extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Te(Te({},$e),{},{"Content-Type":"application/json"},t),n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/PutVectors"),e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/GetVectors"),e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error("segmentIndex must be between 0 and ".concat(e.segmentCount-1))}return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/ListVectors"),e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/QueryVectors"),e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/DeleteVectors"),e,{headers:t.headers})||{})}},Xe=class extends Be{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;super(e.replace(/\/$/,""),Te(Te({},$e),{},{"Content-Type":"application/json"},t),n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/CreateVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/GetVectorBucket"),{vectorBucketName:e},{headers:t.headers}))}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/ListVectorBuckets"),e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ze.post(t.fetch,"".concat(t.url,"/DeleteVectorBucket"),{vectorBucketName:e},{headers:t.headers})||{})}},Ze=class extends Xe{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t.headers||{},t.fetch)}from(e){return new et(this.url,this.headers,e,this.fetch)}async createBucket(e){return(()=>super.createBucket)().call(this,e)}async getBucket(e){return(()=>super.getBucket)().call(this,e)}async listBuckets(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listBuckets)().call(this,e)}async deleteBucket(e){return(()=>super.deleteBucket)().call(this,e)}},et=class extends Ye{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){return(()=>super.createIndex)().call(this,Te(Te({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(()=>super.listIndexes)().call(this,Te(Te({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return(()=>super.getIndex)().call(this,this.vectorBucketName,e)}async deleteIndex(e){return(()=>super.deleteIndex)().call(this,this.vectorBucketName,e)}index(e){return new tt(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tt=class extends Qe{constructor(e,t,n,r,a){super(e,t,a),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=this;return(()=>super.putVectors)().call(t,Te(Te({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(e){var t=this;return(()=>super.getVectors)().call(t,Te(Te({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=this;return(()=>super.listVectors)().call(t,Te(Te({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(e){var t=this;return(()=>super.queryVectors)().call(t,Te(Te({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(e){var t=this;return(()=>super.deleteVectors)().call(t,Te(Te({},e),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},nt=class extends Ge{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0,arguments.length>3?arguments[3]:void 0)}from(e){return new Ke(this.url,this.headers,e,this.fetch)}get vectors(){return new Ze(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Je(this.url+"/iceberg",this.headers,this.fetch)}};const rt="2.94.0",at=3e4,st=9e4,it={"X-Client-Info":"gotrue-js/".concat(rt)},ot="X-Supabase-Api-Version",lt={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},ct=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ut extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function dt(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ht extends ut{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}class ft extends ut{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class pt extends ut{constructor(e,t,n,r){super(e,n,r),this.name=t,this.status=n}}class mt extends pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gt(e){return dt(e)&&"AuthSessionMissingError"===e.name}class vt extends pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bt extends pt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class yt extends pt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class wt extends pt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xt extends pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class kt extends pt{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function _t(e){return dt(e)&&"AuthRetryableFetchError"===e.name}class jt extends pt{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class St extends pt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Et=" \t\n\r=".split(""),Tt=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Et.length;t+=1)e[Et[t].charCodeAt(0)]=-2;for(let t=0;t<Nt.length;t+=1)e[Nt[t].charCodeAt(0)]=t;return e})();function Ct(e,t,n){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Nt[e]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const e=t.queue>>t.queuedBits-6&63;n(Nt[e]),t.queuedBits-=6}}function Rt(e,t,n){const r=Tt[e];if(!(r>-1)){if(-2===r)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function Ot(e){const t=[],n=e=>{t.push(String.fromCodePoint(e))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,n){if(0===t.utf8seq){if(e<=127)return void n(e);for(let n=1;n<6;n+=1)if(0===(e>>7-n&1)){t.utf8seq=n;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&n(t.codepoint)}}(e,r,n)};for(let i=0;i<e.length;i+=1)Rt(e.charCodeAt(i),a,s);return t.join("")}function Pt(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function At(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const t=1024*(r-55296)&65535;r=65536+(e.charCodeAt(n+1)-56320&65535|t),n+=1}Pt(r,t)}}function It(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)Rt(e.charCodeAt(a),n,r);return new Uint8Array(t)}function Lt(e){const t=[],n={queue:0,queuedBits:0},r=e=>{t.push(e)};return e.forEach(e=>Ct(e,n,r)),Ct(null,n,r),t.join("")}const Dt=()=>"undefined"!==typeof window&&"undefined"!==typeof document,Ut={tested:!1,writable:!1},Mt=()=>{if(!Dt())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(t){return!1}if(Ut.tested)return Ut.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ut.tested=!0,Ut.writable=!0}catch(t){Ut.tested=!0,Ut.writable=!1}return Ut.writable};const zt=e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)},Bt=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ft=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch(r){return n}},Wt=async(e,t)=>{await e.removeItem(t)};class qt{constructor(){this.promise=new qt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function Vt(e){const t=e.split(".");if(3!==t.length)throw new St("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ct.test(t[n]))throw new St("JWT not in base64url format");return{header:JSON.parse(Ot(t[0])),payload:JSON.parse(Ot(t[1])),signature:It(t[2]),raw:{header:t[0],payload:t[1]}}}function Ht(e){return("0"+e.toString(16)).substr(-2)}async function Kt(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),n=await crypto.subtle.digest("SHA-256",t),r=new Uint8Array(n);return Array.from(r).map(e=>String.fromCharCode(e)).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $t(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let n="";for(let r=0;r<56;r++)n+=e.charAt(Math.floor(Math.random()*t));return n}return crypto.getRandomValues(e),Array.from(e,Ht).join("")}();let a=r;n&&(a+="/PASSWORD_RECOVERY"),await Bt(e,"".concat(t,"-code-verifier"),a);const s=await Kt(r);return[s,r===s?"plain":"s256"]}qt.promiseConstructor=Promise;const Gt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;const Jt=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yt(e){if(!Jt.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qt(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"===typeof t){const e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "'.concat(t,'" property of the session object is not supported. Please use getUser() instead.'))},set:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))},deleteProperty:(e,t)=>{throw new Error('@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "'.concat(t,'" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.'))}})}function Xt(e){return JSON.parse(JSON.stringify(e))}const Zt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),en=[502,503,504];async function tn(e){var t,n;if(!("object"===typeof(n=e)&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"===typeof n.json))throw new kt(Zt(e),0);if(en.includes(e.status))throw new kt(Zt(e),e.status);let r,a;try{r=await e.json()}catch(i){throw new ft(Zt(i),i)}const s=function(e){const t=e.headers.get(ot);if(!t)return null;if(!t.match(Gt))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(i){return null}}(e);if(s&&s.getTime()>=lt.timestamp&&"object"===typeof r&&r&&"string"===typeof r.code?a=r.code:"object"===typeof r&&r&&"string"===typeof r.error_code&&(a=r.error_code),a){if("weak_password"===a)throw new jt(Zt(r),e.status,(null===(t=r.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new mt}else if("object"===typeof r&&r&&"object"===typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0))throw new jt(Zt(r),e.status,r.weak_password.reasons);throw new ht(Zt(r),e.status||500,a)}async function nn(e,t,n,r){var a;const s=Object.assign({},null===r||void 0===r?void 0:r.headers);s[ot]||(s[ot]=lt.name),(null===r||void 0===r?void 0:r.jwt)&&(s.Authorization="Bearer ".concat(r.jwt));const i=null!==(a=null===r||void 0===r?void 0:r.query)&&void 0!==a?a:{};(null===r||void 0===r?void 0:r.redirectTo)&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await async function(e,t,n,r,a,s){const i=((e,t,n,r)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),n))})(t,r,a,s);let o;try{o=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new kt(Zt(l),0)}o.ok||await tn(o);if(null===r||void 0===r?void 0:r.noResolveJson)return o;try{return await o.json()}catch(l){await tn(l)}}(e,t,n+o,{headers:s,noResolveJson:null===r||void 0===r?void 0:r.noResolveJson},{},null===r||void 0===r?void 0:r.body);return(null===r||void 0===r?void 0:r.xform)?null===r||void 0===r?void 0:r.xform(l):{data:Object.assign({},l),error:null}}function rn(e){var t;let n=null;var r;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:n,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function an(e){const t=rn(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"===typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function sn(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function on(e){return{data:e,error:null}}function ln(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s}=e,i=u(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:n,hashed_token:r,redirect_to:a,verification_type:s},user:Object.assign({},i)},error:null}}function cn(e){return e}const un=["global","local","others"];class dn{constructor(e){let{url:t="",headers:n={},fetch:r}=e;this.url=t,this.headers=n,this.fetch=zt(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:un[0];if(un.indexOf(t)<0)throw new Error("@supabase/auth-js: Parameter scope must be one of ".concat(un.join(", ")));try{return await nn(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await nn(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:sn})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=u(e,["options"]),r=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(r.new_email=null===n||void 0===n?void 0:n.newEmail,delete r.newEmail),await nn(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:r,headers:this.headers,xform:ln,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(dt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await nn(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:sn})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await nn(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:cn});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(dt(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){Yt(e);try{return await nn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:sn})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Yt(e);try{return await nn(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:sn})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Yt(e);try{return await nn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:sn})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Yt(e.userId);try{const{data:t,error:n}=await nn(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:n}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Yt(e.userId),Yt(e.id);try{return{data:await nn(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,n,r,a,s,i,o;try{const l={nextPage:null,lastPage:0,total:0},c=await nn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(n=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==n?n:"",per_page:null!==(a=null===(r=null===e||void 0===e?void 0:e.perPage)||void 0===r?void 0:r.toString())&&void 0!==a?a:""},xform:cn});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(o=null===(i=c.headers.get("link"))||void 0===i?void 0:i.split(","))&&void 0!==o?o:[];return h.length>0&&(h.forEach(e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),n=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(n,"Page")]=t}),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(dt(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(e){try{return await nn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients"),{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await nn(this.fetch,"GET","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await nn(this.fetch,"PUT","".concat(this.url,"/admin/oauth/clients/").concat(e),{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await nn(this.fetch,"DELETE","".concat(this.url,"/admin/oauth/clients/").concat(e),{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await nn(this.fetch,"POST","".concat(this.url,"/admin/oauth/clients/").concat(e,"/regenerate_secret"),{headers:this.headers,xform:e=>({data:e,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}}function hn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fn=!!(globalThis&&Mt()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class pn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mn extends pn{}async function gn(e,t,n){fn&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fn&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async r=>{if(!r){if(0===t)throw fn&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mn('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(fn)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}fn&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{fn&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}))}function vn(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error('@supabase/auth-js: Address "'.concat(e,'" is invalid.'));return e.toLowerCase()}function bn(e){const t=(new TextEncoder).encode(e);return"0x"+Array.from(t,e=>e.toString(16).padStart(2,"0")).join("")}class yn extends Error{constructor(e){let{message:t,code:n,cause:r,name:a}=e;var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=null!==(s=null!==a&&void 0!==a?a:r instanceof Error?r.name:void 0)&&void 0!==s?s:"Unknown Error",this.code=n}}class wn extends yn{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function xn(e){let{error:t,options:n}=e;var r,a,s;const{publicKey:i}=n;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new yn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){if(!0===(null===(r=i.authenticatorSelection)||void 0===r?void 0:r.requireResidentKey))return new yn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===n.mediation&&"required"===(null===(a=i.authenticatorSelection)||void 0===a?void 0:a.userVerification))return new yn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if("required"===(null===(s=i.authenticatorSelection)||void 0===s?void 0:s.userVerification))return new yn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if("InvalidStateError"===t.name)return new yn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if("NotAllowedError"===t.name)return new yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("NotSupportedError"===t.name){return 0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?new yn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new yn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t})}if("SecurityError"===t.name){const e=window.location.hostname;if(!Tn(e))return new yn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new yn({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new yn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new yn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function kn(e){let{error:t,options:n}=e;const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(n.signal instanceof AbortSignal)return new yn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if("NotAllowedError"===t.name)return new yn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if("SecurityError"===t.name){const e=window.location.hostname;if(!Tn(e))return new yn({message:"".concat(window.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(r.rpId!==e)return new yn({message:'The RP ID "'.concat(r.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new yn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new yn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}const _n=new class{createNewAbortSignal(){if(this.controller){const e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function jn(e){if(!e)throw new Error("Credential creation options are required");if("undefined"!==typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,a=u(e,["challenge","user","excludeCredentials"]),s=It(t).buffer,i=Object.assign(Object.assign({},n),{id:It(n.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let e=0;e<r.length;e++){const t=r[e];o.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:It(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return o}function Sn(e){if(!e)throw new Error("Credential request options are required");if("undefined"!==typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"===typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=u(e,["challenge","allowCredentials"]),a=It(t).buffer,s=Object.assign(Object.assign({},r),{challenge:a});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let e=0;e<n.length;e++){const t=n[e];s.allowCredentials[e]=Object.assign(Object.assign({},t),{id:It(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return s}function Nn(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Lt(new Uint8Array(e.response.attestationObject)),clientDataJSON:Lt(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function En(e){var t;if("toJSON"in e&&"function"===typeof e.toJSON)return e.toJSON();const n=e,r=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Lt(new Uint8Array(a.authenticatorData)),clientDataJSON:Lt(new Uint8Array(a.clientDataJSON)),signature:Lt(new Uint8Array(a.signature)),userHandle:a.userHandle?Lt(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!==(t=n.authenticatorAttachment)&&void 0!==t?t:void 0}}function Tn(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cn(){var e,t;return!!(Dt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"===typeof(null===(e=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===e?void 0:e.create)&&"function"===typeof(null===(t=null===navigator||void 0===navigator?void 0:navigator.credentials)||void 0===t?void 0:t.get))}const Rn={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},On={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pn(){const e=e=>null!==e&&"object"===typeof e&&!Array.isArray(e),t=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];for(const i of a)if(i)for(const r in i){const a=i[r];if(void 0!==a)if(Array.isArray(a))n[r]=a;else if(t(a))n[r]=a;else if(e(a)){const t=n[r];e(t)?n[r]=Pn(t,a):n[r]=Pn(a)}else n[r]=a}return n}class An{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge(e,t){let{factorId:n,webauthn:r,friendlyName:a,signal:s}=e;var i;try{const{data:e,error:o}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!e)return{data:null,error:o};const l=null!==s&&void 0!==s?s:_n.createNewAbortSignal();if("create"===e.webauthn.type){const{user:t}=e.webauthn.credential_options.publicKey;if(!t.name){const e=a;if(e)t.name="".concat(t.id,":").concat(e);else{const e=(await this.client.getUser()).data.user,n=(null===(i=null===e||void 0===e?void 0:e.user_metadata)||void 0===i?void 0:i.name)||(null===e||void 0===e?void 0:e.email)||(null===e||void 0===e?void 0:e.id)||"User";t.name="".concat(t.id,":").concat(n)}}t.displayName||(t.displayName=t.name)}switch(e.webauthn.type){case"create":{const r=function(e,t){return Pn(Rn,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.create),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wn("Browser returned unexpected credential type",t)}:{data:null,error:new wn("Empty credential response",t)}}catch(t){return{data:null,error:xn({error:t,options:e})}}}({publicKey:r,signal:l});return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}case"request":{const r=function(e,t){return Pn(On,e,t||{})}(e.webauthn.credential_options.publicKey,null===t||void 0===t?void 0:t.request),{data:a,error:s}=await async function(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wn("Browser returned unexpected credential type",t)}:{data:null,error:new wn("Empty credential response",t)}}catch(t){return{data:null,error:kn({error:t,options:e})}}}(Object.assign(Object.assign({},e.webauthn.credential_options),{publicKey:r,signal:l}));return a?{data:{factorId:n,challengeId:e.id,webauthn:{type:e.webauthn.type,credential_response:a}},error:null}:{data:null,error:s}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new ft("Unexpected error in challenge",o)}}}async _verify(e){let{challengeId:t,factorId:n,webauthn:r}=e;return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate(e,t){let{factorId:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new ut("rpId is required for WebAuthn authentication")};try{if(!Cn())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:a},signal:s},{request:t});if(!e)return{data:null,error:i};const{webauthn:o}=e;return this._verify({factorId:n,challengeId:e.challengeId,webauthn:{type:o.type,rpId:r,rpOrigins:a,credential_response:o.credential_response}})}catch(i){return dt(i)?{data:null,error:i}:{data:null,error:new ft("Unexpected error in authenticate",i)}}}async _register(e,t){let{friendlyName:n,webauthn:{rpId:r=("undefined"!==typeof window?window.location.hostname:void 0),rpOrigins:a=("undefined"!==typeof window?[window.location.origin]:void 0),signal:s}={}}=e;if(!r)return{data:null,error:new ut("rpId is required for WebAuthn registration")};try{if(!Cn())return{data:null,error:new ft("Browser does not support WebAuthn",null)};const{data:e,error:i}=await this._enroll({friendlyName:n});if(!e)return await this.client.mfa.listFactors().then(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.all.find(e=>"webauthn"===e.factor_type&&e.friendly_name===n&&"unverified"!==e.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null===e||void 0===e?void 0:e.id}):void 0),{data:null,error:i};const{data:o,error:l}=await this._challenge({factorId:e.id,friendlyName:e.friendly_name,webauthn:{rpId:r,rpOrigins:a},signal:s},{create:t});return o?this._verify({factorId:e.id,challengeId:o.challengeId,webauthn:{rpId:r,rpOrigins:a,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:l}}catch(i){return dt(i)?{data:null,error:i}:{data:null,error:new ft("Unexpected error in register",i)}}}}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!==typeof self&&(self.globalThis=self)}}();const In={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:it,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ln(e,t,n){return await n()}const Dn={};class Un{get jwks(){var e,t;return null!==(t=null===(e=Dn[this.storageKey])||void 0===e?void 0:e.jwks)&&void 0!==t?t:{keys:[]}}set jwks(e){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!==(t=null===(e=Dn[this.storageKey])||void 0===e?void 0:e.cachedAt)&&void 0!==t?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dn[this.storageKey]=Object.assign(Object.assign({},Dn[this.storageKey]),{cachedAt:e})}constructor(e){var t,n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},In),e);if(this.storageKey=a.storageKey,this.instanceID=null!==(t=Un.nextInstanceID[this.storageKey])&&void 0!==t?t:0,Un.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,"function"===typeof a.debug&&(this.logger=a.debug),this.instanceID>0&&Dt()){const e="".concat(this._logPrefix()," Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new dn({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=zt(a.fetch),this.lock=a.lock||Ln,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Dt()&&(null===(n=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===n?void 0:n.locks)?this.lock=gn:this.lock=Ln,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new An(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Mt()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hn(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=hn(this.memoryStorage)),Dt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(t){this._debug("#broadcastChannel","error",t)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return"GoTrueClient@"+"".concat(this.storageKey,":").concat(this.instanceID," (").concat(rt,") ").concat((new Date).toISOString())}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logger(this._logPrefix(),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},n="none";if(Dt()&&(t=function(e){const t={},n=new URL(e);if(n.hash&&"#"===n.hash[0])try{new URLSearchParams(n.hash.substring(1)).forEach((e,n)=>{t[n]=e})}catch(r){}return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce")),Dt()&&this.detectSessionInUrl&&"none"!==n){const{data:r,error:a}=await this._getSessionFromURL(t,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return dt(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return{error:a}}const{session:s,redirectType:i}=r;return this._debug("#_initialize()","detected session in URL",s,"redirect type",i),await this._saveSession(s),setTimeout(async()=>{"recovery"===i?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return dt(t)?this._returnResult({error:t}):this._returnResult({error:new ft("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,r;try{const a=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(n=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==n?n:{},gotrue_meta_security:{captcha_token:null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken}},xform:rn}),{data:s,error:i}=a;if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,n,r;try{let a;if("email"in e){const{email:n,password:r,options:s}=e;let i=null,o=null;"pkce"===this.flowType&&([i,o]=await $t(this.storage,this.storageKey)),a=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:n,password:r,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},xform:rn})}else{if(!("phone"in e))throw new bt("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:i}=e;a=await nn(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(n=null===i||void 0===i?void 0:i.data)&&void 0!==n?n:{},channel:null!==(r=null===i||void 0===i?void 0:i.channel)&&void 0!==r?r:"sms",gotrue_meta_security:{captcha_token:null===i||void 0===i?void 0:i.captchaToken}},xform:rn})}}const{data:s,error:i}=a;if(i||!s)return await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),this._returnResult({data:{user:null,session:null},error:i});const o=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(a){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:n,password:r,options:a}=e;t=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:an})}else{if(!("phone"in e))throw new bt("You must provide either an email or phone number and a password");{const{phone:n,password:r,options:a}=e;t=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:n,password:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:an})}}const{data:n,error:r}=t;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!n||!n.session||!n.user){const e=new vt;return this._returnResult({data:{user:null,session:null},error:e})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(t){if(dt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,n,r,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(r=e.options)||void 0===r?void 0:r.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error('@supabase/auth-js: Unsupported chain "'.concat(t,'"'))}}async signInWithEthereum(e){var t,n,r,a,s,i,o,l,c,u,d;let h,f;if("message"in e)h=e.message,f=e.signature;else{const{chain:u,wallet:d,statement:p,options:m}=e;let g;if(Dt())if("object"===typeof d)g=d;else{const e=window;if(!("ethereum"in e)||"object"!==typeof e.ethereum||!("request"in e.ethereum)||"function"!==typeof e.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");g=e.ethereum}else{if("object"!==typeof d||!(null===m||void 0===m?void 0:m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=d}const v=new URL(null!==(t=null===m||void 0===m?void 0:m.url)&&void 0!==t?t:window.location.href),b=await g.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||0===b.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const y=vn(b[0]);let w=null===(n=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===n?void 0:n.chainId;if(!w){const e=await g.request({method:"eth_chainId"});w=parseInt(e,16)}h=function(e){var t;const{chainId:n,domain:r,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;if(!Number.isInteger(n))throw new Error('@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: '.concat(n));if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error('@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: '.concat(i));if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==h)throw new Error("@supabase/auth-js: Invalid SIWE message field \"version\". Version must be '1'. Provided value: ".concat(h));if(null===(t=e.statement)||void 0===t?void 0:t.includes("\n"))throw new Error("@supabase/auth-js: Invalid SIWE message field \"statement\". Statement must not include '\\n'. Provided value: ".concat(e.statement));const f=vn(e.address),p=u?"".concat(u,"://").concat(r):r,m=e.statement?"".concat(e.statement,"\n"):"",g="".concat(p," wants you to sign in with your Ethereum account:\n").concat(f,"\n\n").concat(m);let v="URI: ".concat(d,"\nVersion: ").concat(h,"\nChain ID: ").concat(n).concat(i?"\nNonce: ".concat(i):"","\nIssued At: ").concat(s.toISOString());if(a&&(v+="\nExpiration Time: ".concat(a.toISOString())),o&&(v+="\nNot Before: ".concat(o.toISOString())),l&&(v+="\nRequest ID: ".concat(l)),c){let e="\nResources:";for(const t of c){if(!t||"string"!==typeof t)throw new Error('@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: '.concat(t));e+="\n- ".concat(t)}v+=e}return"".concat(g,"\n").concat(v)}({domain:v.host,address:y,statement:p,uri:v.href,version:"1",chainId:w,nonce:null===(r=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===r?void 0:r.nonce,issuedAt:null!==(s=null===(a=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==s?s:new Date,expirationTime:null===(i=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===i?void 0:i.expirationTime,notBefore:null===(o=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===o?void 0:o.notBefore,requestId:null===(l=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===l?void 0:l.requestId,resources:null===(c=null===m||void 0===m?void 0:m.signInWithEthereum)||void 0===c?void 0:c.resources}),f=await g.request({method:"personal_sign",params:[bn(h),y]})}try{const{data:t,error:n}=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:f},(null===(u=e.options)||void 0===u?void 0:u.captchaToken)?{gotrue_meta_security:{captcha_token:null===(d=e.options)||void 0===d?void 0:d.captchaToken}}:null),xform:rn});if(n)throw n;if(!t||!t.session||!t.user){const e=new vt;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(p){if(dt(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(e){var t,n,r,a,s,i,o,l,c,u,d,h;let f,p;if("message"in e)f=e.message,p=e.signature;else{const{chain:d,wallet:h,statement:m,options:g}=e;let v;if(Dt())if("object"===typeof h)v=h;else{const e=window;if(!("solana"in e)||"object"!==typeof e.solana||!("signIn"in e.solana&&"function"===typeof e.solana.signIn||"signMessage"in e.solana&&"function"===typeof e.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");v=e.solana}else{if("object"!==typeof h||!(null===g||void 0===g?void 0:g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=h}const b=new URL(null!==(t=null===g||void 0===g?void 0:g.url)&&void 0!==t?t:window.location.href);if("signIn"in v&&v.signIn){const e=await v.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},null===g||void 0===g?void 0:g.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),m?{statement:m}:null));let t;if(Array.isArray(e)&&e[0]&&"object"===typeof e[0])t=e[0];else{if(!(e&&"object"===typeof e&&"signedMessage"in e&&"signature"in e))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");t=e}if(!("signedMessage"in t&&"signature"in t&&("string"===typeof t.signedMessage||t.signedMessage instanceof Uint8Array)&&t.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");f="string"===typeof t.signedMessage?t.signedMessage:(new TextDecoder).decode(t.signedMessage),p=t.signature}else{if(!("signMessage"in v)||"function"!==typeof v.signMessage||!("publicKey"in v)||"object"!==typeof v||!v.publicKey||!("toBase58"in v.publicKey)||"function"!==typeof v.publicKey.toBase58)throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=["".concat(b.host," wants you to sign in with your Solana account:"),v.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1","URI: ".concat(b.href),"Issued At: ".concat(null!==(r=null===(n=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===n?void 0:n.issuedAt)&&void 0!==r?r:(new Date).toISOString()),...(null===(a=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===a?void 0:a.notBefore)?["Not Before: ".concat(g.signInWithSolana.notBefore)]:[],...(null===(s=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===s?void 0:s.expirationTime)?["Expiration Time: ".concat(g.signInWithSolana.expirationTime)]:[],...(null===(i=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===i?void 0:i.chainId)?["Chain ID: ".concat(g.signInWithSolana.chainId)]:[],...(null===(o=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===o?void 0:o.nonce)?["Nonce: ".concat(g.signInWithSolana.nonce)]:[],...(null===(l=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===l?void 0:l.requestId)?["Request ID: ".concat(g.signInWithSolana.requestId)]:[],...(null===(u=null===(c=null===g||void 0===g?void 0:g.signInWithSolana)||void 0===c?void 0:c.resources)||void 0===u?void 0:u.length)?["Resources",...g.signInWithSolana.resources.map(e=>"- ".concat(e))]:[]].join("\n");const e=await v.signMessage((new TextEncoder).encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{const{data:t,error:n}=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=web3"),{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:Lt(p)},(null===(d=e.options)||void 0===d?void 0:d.captchaToken)?{gotrue_meta_security:{captcha_token:null===(h=e.options)||void 0===h?void 0:h.captchaToken}}:null),xform:rn});if(n)throw n;if(!t||!t.session||!t.user){const e=new vt;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:n})}catch(m){if(dt(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async _exchangeCodeForSession(e){const t=await Ft(this.storage,"".concat(this.storageKey,"-code-verifier")),[n,r]=(null!==t&&void 0!==t?t:"").split("/");try{if(!n&&"pkce"===this.flowType)throw new xt;const{data:t,error:a}=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rn});if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;if(!t||!t.session||!t.user){const e=new vt;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!==r&&void 0!==r?r:null}),error:a})}catch(a){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:n,token:r,access_token:a,nonce:s}=e,i=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:n,id_token:r,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:rn}),{data:o,error:l}=i;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const e=new vt;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:l})}catch(t){if(dt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,n,r,a,s;try{if("email"in e){const{email:r,options:a}=e;let s=null,i=null;"pkce"===this.flowType&&([s,i]=await $t(this.storage,this.storageKey));const{error:o}=await nn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:r,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(n=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===n||n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:i},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}if("phone"in e){const{phone:t,options:n}=e,{data:i,error:o}=await nn(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(r=null===n||void 0===n?void 0:n.data)&&void 0!==r?r:{},create_user:null===(a=null===n||void 0===n?void 0:n.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===n||void 0===n?void 0:n.captchaToken},channel:null!==(s=null===n||void 0===n?void 0:n.channel)&&void 0!==s?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null===i||void 0===i?void 0:i.message_id},error:o})}throw new bt("You must provide either an email or phone number.")}catch(i){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async verifyOtp(e){var t,n;try{let r,a;"options"in e&&(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(n=e.options)||void 0===n?void 0:n.captchaToken);const{data:s,error:i}=await nn(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:rn});if(i)throw i;if(!s){throw new Error("An error occurred on token verification.")}const o=s.session,l=s.user;return(null===o||void 0===o?void 0:o.access_token)&&(await this._saveSession(o),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:l,session:o},error:null})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var t,n,r,a,s;try{let i=null,o=null;"pkce"===this.flowType&&([i,o]=await $t(this.storage,this.storageKey));const l=await nn(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==n?n:void 0}),(null===(r=null===e||void 0===e?void 0:e.options)||void 0===r?void 0:r.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:on});return(null===(a=l.data)||void 0===a?void 0:a.url)&&Dt()&&!(null===(s=e.options)||void 0===s?void 0:s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(i){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(i))return this._returnResult({data:null,error:i});throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new mt;const{error:r}=await nn(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(dt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:n,type:r,options:a}=e,{error:s}=await nn(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}if("phone"in e){const{phone:n,type:r,options:a}=e,{data:s,error:i}=await nn(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:i})}throw new bt("You must provide either an email or phone number and a type")}catch(t){if(dt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch(e){}})()),n}return await this.lock("lock:".concat(this.storageKey),e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(t){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ft(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=!!e.expires_at&&1e3*e.expires_at-Date.now()<st;if(this._debug("#__loadSession()","session has".concat(n?"":" not"," expired"),"expires_at",e.expires_at),!n){if(this.userStorage){const t=await Ft(this.userStorage,this.storageKey+"-user");(null===t||void 0===t?void 0:t.user)?e.user=t.user:e.user=Qt()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const t={value:this.suppressGetSessionWarning};e.user=function(e,t){return new Proxy(e,{get:(e,n,r)=>{if("__isInsecureUserWarningProxy"===n)return!0;if("symbol"===typeof n){const t=n.toString();if("Symbol(Symbol.toPrimitive)"===t||"Symbol(Symbol.toStringTag)"===t||"Symbol(util.inspect.custom)"===t||"Symbol(nodejs.util.inspect.custom)"===t)return Reflect.get(e,n,r)}return t.value||"string"!==typeof n||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,n,r)}})}(e.user,t),t.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await nn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:sn}):await this._useSession(async e=>{var t,n,r;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await nn(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0,xform:sn}):{data:{user:null},error:new mt}})}catch(t){if(dt(t))return gt(t)&&(await this._removeSession(),await Wt(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession(async n=>{const{data:r,error:a}=n;if(a)throw a;if(!r.session)throw new mt;const s=r.session;let i=null,o=null;"pkce"===this.flowType&&null!=e.email&&([i,o]=await $t(this.storage,this.storageKey));const{data:l,error:c}=await nn(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:i,code_challenge_method:o}),jwt:s.access_token,xform:sn});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(n){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const t=Date.now()/1e3;let n=t,r=!0,a=null;const{payload:s}=Vt(e.access_token);if(s.exp&&(n=s.exp,r=n<=t),r){const{data:t,error:n}=await this._callRefreshToken(e.refresh_token);if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:r,error:s}=await this._getUser(e.access_token);if(s)return this._returnResult({data:{user:null,session:null},error:s});a={access_token:e.access_token,refresh_token:e.refresh_token,user:r.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(dt(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:r,error:a}=t;if(a)throw a;e=null!==(n=r.session)&&void 0!==n?n:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new mt;const{data:r,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(dt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Dt())throw new yt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new yt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new wt("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new yt("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wt("No code detected.");const{data:t,error:n}=await this._exchangeCodeForSession(e.code);if(n)throw n;const r=new URL(window.location.href);return r.searchParams.delete("code"),window.history.replaceState(window.history.state,"",r.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:a,refresh_token:s,expires_in:i,expires_at:o,token_type:l}=e;if(!a||!i||!s||!l)throw new yt("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(i);let d=c+u;o&&(d=parseInt(o));const h=d-c;1e3*h<=at&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:n,provider_refresh_token:r,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:e.type},error:null})}catch(n){if(dt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return"function"===typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ft(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a&&!gt(a))return this._returnResult({error:a});const s=null===(n=r.session)||void 0===n?void 0:n.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return dt(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status)&&!gt(t))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await Wt(this.storage,"".concat(this.storageKey,"-code-verifier"))),this._returnResult({error:null})})}onAuthStateChange(e){const t=Symbol("auth-callback"),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,r;try{const{data:{session:r},error:a}=t;if(a)throw a;await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(a){await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null;"pkce"===this.flowType&&([n,r]=await $t(this.storage,this.storageKey,!0));try{return await nn(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:n,error:r}=await this._useSession(async t=>{var n,r,a,s,i;const{data:o,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(n=e.options)||void 0===n?void 0:n.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await nn(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(i=null===(s=o.session)||void 0===s?void 0:s.access_token)&&void 0!==i?i:void 0})});if(r)throw r;return Dt()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===n||void 0===n?void 0:n.url),this._returnResult({data:{provider:e.provider,url:null===n||void 0===n?void 0:n.url},error:null})}catch(n){if(dt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var n;try{const{error:r,data:{session:a}}=t;if(r)throw r;const{options:s,provider:i,token:o,access_token:l,nonce:c}=e,u=await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,jwt:null!==(n=null===a||void 0===a?void 0:a.access_token)&&void 0!==n?n:void 0,body:{provider:i,id_token:o,access_token:l,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken}},xform:rn}),{data:d,error:h}=u;return h?this._returnResult({data:{user:null,session:null},error:h}):d&&d.session&&d.user?(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:h})):this._returnResult({data:{user:null,session:null},error:new vt})}catch(r){if(await Wt(this.storage,"".concat(this.storageKey,"-code-verifier")),dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)throw s;return await nn(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(r=null===(n=a.session)||void 0===n?void 0:n.access_token)&&void 0!==r?r:void 0})})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const a=Date.now();return await(n=async n=>(n>0&&await async function(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await nn(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:rn})),r=(e,t)=>{const n=200*Math.pow(2,e);return t&&_t(t)&&Date.now()+n-a<at},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{const t=await n(s);if(!r(s,null,t))return void e(t)}catch(a){if(!r(s,a))return void t(a)}})()}))}catch(a){if(this._debug(t,"error",a),dt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(t,"end")}var n,r}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Dt()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ft(this.storage,this.storageKey);if(a&&this.userStorage){let t=await Ft(this.userStorage,this.storageKey+"-user");this.storage.isServer||!Object.is(this.storage,this.userStorage)||t||(t={user:a.user},await Bt(this.userStorage,this.storageKey+"-user",t)),a.user=null!==(e=null===t||void 0===t?void 0:t.user)&&void 0!==e?e:Qt()}else if(a&&!a.user&&!a.user){const e=await Ft(this.storage,this.storageKey+"-user");e&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await Wt(this.storage,this.storageKey+"-user"),await Bt(this.storage,this.storageKey,a)):a.user=Qt()}if(this._debug(n,"session from storage",a),!this._isValidSession(a))return this._debug(n,"session is not valid"),void(null!==a&&await this._removeSession());const s=1e3*(null!==(t=a.expires_at)&&void 0!==t?t:1/0)-Date.now()<st;if(this._debug(n,"session has".concat(s?"":" not"," expired with margin of ").concat(st,"s")),s){if(this.autoRefreshToken&&a.refresh_token){const{error:e}=await this._callRefreshToken(a.refresh_token);e&&(console.error(e),_t(e)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(a.user&&!0===a.user.__isUserNotAvailableProxy)try{const{data:e,error:t}=await this._getUser(a.access_token);!t&&(null===e||void 0===e?void 0:e.user)?(a.user=e.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(r){console.error("Error getting user data:",r),this._debug(n,"error getting user data, skipping SIGNED_IN notification",r)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){return this._debug(n,"error",a),void console.error(a)}finally{this._debug(n,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(r,"begin");try{this.refreshingDeferred=new qt;const{data:t,error:n}=await this._refreshAccessToken(e);if(n)throw n;if(!t.session)throw new mt;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const r={data:t.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(a){if(this._debug(r,"error",a),dt(a)){const e={data:null,error:a};return _t(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(n=this.refreshingDeferred)||void 0===n||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r="#_notifyAllSubscribers(".concat(e,")");this._debug(r,"begin",t,"broadcast = ".concat(n));try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const r=[],a=Array.from(this.stateChangeEmitters.values()).map(async n=>{try{await n.callback(e,t)}catch(a){r.push(a)}});if(await Promise.all(a),r.length>0){for(let e=0;e<r.length;e+=1)console.error(r[e]);throw r[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Wt(this.storage,"".concat(this.storageKey,"-code-verifier"));const t=Object.assign({},e),n=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!n&&t.user&&await Bt(this.userStorage,this.storageKey+"-user",{user:t.user});const e=Object.assign({},t);delete e.user;const r=Xt(e);await Bt(this.storage,this.storageKey,r)}else{const e=Xt(t);await Bt(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Dt()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),at);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"===typeof t&&"function"===typeof t.unref?t.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const r=Math.floor((1e3*n.expires_at-t)/at);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(r," ticks, a tick lasts ").concat(at,"ms, refresh threshold is ").concat(3," ticks")),r<=3&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(!(e.isAcquireTimeout||e instanceof pn))throw e;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Dt()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const r=["provider=".concat(encodeURIComponent(t))];if((null===n||void 0===n?void 0:n.redirectTo)&&r.push("redirect_to=".concat(encodeURIComponent(n.redirectTo))),(null===n||void 0===n?void 0:n.scopes)&&r.push("scopes=".concat(encodeURIComponent(n.scopes))),"pkce"===this.flowType){const[e,t]=await $t(this.storage,this.storageKey),n=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});r.push(n.toString())}if(null===n||void 0===n?void 0:n.queryParams){const e=new URLSearchParams(n.queryParams);r.push(e.toString())}return(null===n||void 0===n?void 0:n.skipBrowserRedirect)&&r.push("skip_http_redirect=".concat(n.skipBrowserRedirect)),"".concat(e,"?").concat(r.join("&"))}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;return a?this._returnResult({data:null,error:a}):await nn(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token})})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,r;const{data:a,error:s}=t;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:o,error:l}=await nn(this.fetch,"POST","".concat(this.url,"/factors"),{body:i,headers:this.headers,jwt:null===(n=null===a||void 0===a?void 0:a.session)||void 0===n?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===o.type&&(null===(r=null===o||void 0===o?void 0:o.totp)||void 0===r?void 0:r.qr_code)&&(o.totp.qr_code="data:image/svg+xml;utf-8,".concat(o.totp.qr_code)),this._returnResult({data:o,error:null}))})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?Nn(e.webauthn.credential_response):En(e.webauthn.credential_response)})}:{code:e.code}),{data:i,error:o}=await nn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:s,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),this._returnResult({data:i,error:o}))})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var n;const{data:r,error:a}=t;if(a)return this._returnResult({data:null,error:a});const s=await nn(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:e,headers:this.headers,jwt:null===(n=null===r||void 0===r?void 0:r.session)||void 0===n?void 0:n.access_token});if(s.error)return s;const{data:i}=s;if("webauthn"!==i.type)return{data:i,error:null};switch(i.webauthn.type){case"create":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:jn(i.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},i),{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_options:Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:Sn(i.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of null!==(e=null===t||void 0===t?void 0:t.factors)&&void 0!==e?e:[])r.all.push(a),"verified"===a.status&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,n,r,a;if(e)try{const{payload:r}=Vt(e);let a=null;r.aal&&(a=r.aal);let s=a;const{data:{user:i},error:o}=await this.getUser(e);if(o)return this._returnResult({data:null,error:o});(null!==(n=null===(t=null===i||void 0===i?void 0:i.factors)||void 0===t?void 0:t.filter(e=>"verified"===e.status))&&void 0!==n?n:[]).length>0&&(s="aal2");return{data:{currentLevel:a,nextLevel:s,currentAuthenticationMethods:r.amr||[]},error:null}}catch(u){if(dt(u))return this._returnResult({data:null,error:u});throw u}const{data:{session:s},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vt(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;(null!==(a=null===(r=s.user.factors)||void 0===r?void 0:r.filter(e=>"verified"===e.status))&&void 0!==a?a:[]).length>0&&(c="aal2");return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:o.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await nn(this.fetch,"GET","".concat(this.url,"/oauth/authorizations/").concat(e),{headers:this.headers,jwt:n.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new mt})})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new mt});const s=await nn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Dt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,t){try{return await this._useSession(async n=>{const{data:{session:r},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new mt});const s=await nn(this.fetch,"POST","".concat(this.url,"/oauth/authorizations/").concat(e,"/consent"),{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return s.data&&s.data.redirect_url&&Dt()&&!(null===t||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;return n?this._returnResult({data:null,error:n}):t?await nn(this.fetch,"GET","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new mt})})}catch(e){if(dt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?(await nn(this.fetch,"DELETE","".concat(this.url,"/user/oauth/grants"),{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new mt})})}catch(t){if(dt(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find(t=>t.kid===e);if(t)return t;const n=Date.now();if(t=this.jwks.keys.find(t=>t.kid===e),t&&this.jwks_cached_at+6e5>n)return t;const{data:r,error:a}=await nn(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(a)throw a;return r.keys&&0!==r.keys.length?(this.jwks=r,this.jwks_cached_at=n,t=r.keys.find(t=>t.kid===e),t||null):null}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=e;if(!n){const{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});n=e.session.access_token}const{header:r,payload:a,signature:s,raw:{header:i,payload:o}}=Vt(n);(null===t||void 0===t?void 0:t.allowExpired)||function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp);const l=r.alg&&!r.alg.startsWith("HS")&&r.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?await this.fetchJwk(r.kid,(null===t||void 0===t?void 0:t.keys)?{keys:t.keys}:null===t||void 0===t?void 0:t.jwks):null;if(!l){const{error:e}=await this.getUser(n);if(e)throw e;return{data:{claims:a,header:r,signature:s},error:null}}const c=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(r.alg),u=await crypto.subtle.importKey("jwk",l,c,!0,["verify"]);if(!await crypto.subtle.verify(c,u,s,function(e){const t=[];return At(e,e=>t.push(e)),new Uint8Array(t)}("".concat(i,".").concat(o))))throw new St("Invalid JWT signature");return{data:{claims:a,header:r,signature:s},error:null}}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}}Un.nextInstanceID={};const Mn=Un;let zn="";zn="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const Bn={headers:{"X-Client-Info":"supabase-js-".concat(zn,"/").concat("2.94.0")}},Fn={schema:"public"},Wn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qn={};function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hn(e){var t=function(e,t){if("object"!=Vn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vn(t)?t:t+""}function Kn(e,t,n){return(t=Hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach(function(t){Kn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const Jn=(e,t,n)=>{const r=(e=>e?function(){return e(...arguments)}:function(){return fetch(...arguments)})(n),a=Headers;return async(n,s)=>{var i;const o=null!==(i=await t())&&void 0!==i?i:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(o)),r(n,Gn(Gn({},s),{},{headers:l}))}};var Yn=class extends Mn{constructor(e){super(e)}},Qn=class{constructor(e,t,n){var r,a;this.supabaseUrl=e,this.supabaseKey=t;const s=function(e){const t=null===e||void 0===e?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL((n=t).endsWith("/")?n:n+"/")}catch(r){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}var n}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i="sb-".concat(s.hostname.split(".")[0],"-auth-token"),o=function(e,t){var n,r;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Gn(Gn({},l),a),auth:Gn(Gn({},c),s),realtime:Gn(Gn({},u),i),storage:{},global:Gn(Gn(Gn({},d),o),{},{headers:Gn(Gn({},null!==(n=null===d||void 0===d?void 0:d.headers)&&void 0!==n?n:{}),null!==(r=null===o||void 0===o?void 0:o.headers)&&void 0!==r?r:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==n&&void 0!==n?n:{},{db:Fn,realtime:qn,auth:Gn(Gn({},Wn),{},{storageKey:i}),global:Bn});var l;(this.storageKey=null!==(r=o.auth.storageKey)&&void 0!==r?r:"",this.headers=null!==(a=o.global.headers)&&void 0!==a?a:{},o.accessToken)?(this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(l=o.auth)&&void 0!==l?l:{},this.headers,o.global.fetch);this.fetch=Jn(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(Gn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new C(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new nt(this.storageUrl.href,this.headers,this.fetch,null===n||void 0===n?void 0:n.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new v(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{head:!1,get:!1,count:void 0};return this.rest.rpc(e,t,n)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t,n=this;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return null!==(e=null===(t=r.session)||void 0===t?void 0:t.access_token)&&void 0!==e?e:n.supabaseKey}_initSupabaseAuthClient(e,t,n){let{autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,storageKey:l,flowType:c,lock:u,debug:d,throwOnError:h}=e;const f={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new Yn({url:this.authUrl.href,headers:Gn(Gn({},f),t),storageKey:l,autoRefreshToken:r,persistSession:a,detectSessionInUrl:s,storage:i,userStorage:o,flowType:c,lock:u,debug:d,throwOnError:h,fetch:n,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new de(this.realtimeUrl.href,Gn(Gn({},e),{},{params:Gn(Gn({},{apikey:this.supabaseKey}),null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)})}_handleTokenChanged(e,t,n){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===n?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=n,this.realtime.setAuth(n))}};(function(){if("undefined"!==typeof window)return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(void 0===t||null===t)return!1;const n=t.match(/^v(\d+)\./);return!!n&&parseInt(n[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xn=((e,t,n)=>new Qn(e,t,n))("https://iaysuesdurkwtcgppaga.supabase.co","sb_publishable_IIQaCf1SHoZjGvt0W4I_cA_y6RmpWMf");var Zn=n(579);const er=["label","error","icon","autoComplete","name"],tr=e=>{let{active:t}=e;return t?(0,Zn.jsx)("div",{className:"fixed inset-0 pointer-events-none z-50",children:[...Array(80)].map((e,t)=>(0,Zn.jsx)("div",{style:{position:"absolute",left:"".concat(100*Math.random(),"%"),top:-20,width:Math.random()>.5?10:6,height:Math.random()>.5?10:6,backgroundColor:["#3b82f6","#10b981","#f59e0b","#ec4899","#8b5cf6"][Math.floor(5*Math.random())],borderRadius:Math.random()>.5?"50%":"2px",animation:"confetti ".concat(2.5+2*Math.random(),"s ease-out forwards"),animationDelay:"".concat(1.5*Math.random(),"s")}},t))}):null},nr={en:{getStarted:"Get Started",continue:"Continue",back:"Back",home:"Home",tasks:"Tasks",ai:"AI Help",messages:"Messages",profile:"Profile",welcome:"Welcome back",letsGetPaid:"Let's get you paid.",scheduleCall:"Schedule Your Call",yourAttorney:"Your Attorney",caseProgress:"Case Progress",nextStep:"Next Step",traditional:"Traditional Attorney",youKeep:"You Keep",firstName:"First Name",lastName:"Last Name",phone:"Phone",email:"Email",accidentDate:"Accident Date",required:"Required",invalidEmail:"Invalid email",invalidPhone:"Invalid phone"},es:{getStarted:"Comenzar",continue:"Continuar",back:"Atr\xe1s",home:"Inicio",tasks:"Tareas",ai:"Ayuda IA",messages:"Mensajes",profile:"Perfil",welcome:"Bienvenido",letsGetPaid:"Vamos a conseguir tu pago.",scheduleCall:"Programa tu Llamada",yourAttorney:"Tu Abogado",caseProgress:"Progreso del Caso",nextStep:"Siguiente Paso",traditional:"Abogado Tradicional",youKeep:"Te Quedas",firstName:"Nombre",lastName:"Apellido",phone:"Tel\xe9fono",email:"Correo",accidentDate:"Fecha del Accidente",required:"Requerido",invalidEmail:"Correo inv\xe1lido",invalidPhone:"Tel\xe9fono inv\xe1lido"}};function rr(){const{user:e,loading:t,signUp:n,signIn:a,signOut:s}=(()=>{const[e,t]=(0,r.useState)(null),[n,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{Xn.auth.getSession().then(e=>{var n;let{data:{session:r}}=e;t(null!==(n=null===r||void 0===r?void 0:r.user)&&void 0!==n?n:null),a(!1)});const{data:{subscription:e}}=Xn.auth.onAuthStateChange((e,n)=>{var r;t(null!==(r=null===n||void 0===n?void 0:n.user)&&void 0!==r?r:null)});return()=>e.unsubscribe()},[]),{user:e,loading:n,signUp:async(e,t)=>{const{data:n,error:r}=await Xn.auth.signUp({email:e,password:t});return{data:n,error:r}},signIn:async(e,t)=>{const{data:n,error:r}=await Xn.auth.signInWithPassword({email:e,password:t});return{data:n,error:r}},signOut:async()=>{const{error:e}=await Xn.auth.signOut();return{error:e}}}})(),[i,o]=(0,r.useState)("en"),l=nr[i],[u,d]=(0,r.useState)("landing"),[h,f]=(0,r.useState)(7e4),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(1),[b,y]=(0,r.useState)("home"),[w,x]=(0,r.useState)(!1),[k,_]=(0,r.useState)(null),[j,S]=(0,r.useState)(null),[N,E]=(0,r.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",accidentMonth:"",accidentDay:"",accidentYear:"",scheduledTime:null,scheduledDate:null}),[T,C]=(0,r.useState)({}),[R,O]=(0,r.useState)(null),[P,A]=(0,r.useState)(null),[I,L]=(0,r.useState)({milestone:2,completed:[1],savedAmount:4847,estimatedSettlement:67500,treatments:[{id:1,date:"2026-01-15",provider:"Riverside ER",type:"Emergency",cost:4200,verified:!0},{id:2,date:"2026-01-18",provider:"Dr. Smith Orthopedics",type:"Specialist",cost:450,verified:!0},{id:3,date:"2026-01-22",provider:"PT Plus",type:"Physical Therapy",cost:150,verified:!1}],documents:[{id:1,name:"Police Report",status:"verified"},{id:2,name:"ER Records",status:"verified"},{id:3,name:"Insurance Card",status:"pending"},{id:4,name:"Vehicle Photos",status:"missing"}],milestoneData:{}}),[D]=(0,r.useState)([{id:1,title:"Upload reminder",message:"Add vehicle photos to strengthen your case",time:"2h ago",read:!1},{id:2,title:"New message",message:"Sarah Martinez sent you a message",time:"5h ago",read:!1}]),[U,M]=(0,r.useState)([{id:1,from:"attorney",name:"Sarah Martinez",text:"Hi! I've reviewed your case. Everything looks good so far. Let me know if you have questions!",time:"2:30 PM"},{id:2,from:"attorney",name:"Sarah Martinez",text:"Please upload your vehicle photos when you get a chance - they'll help maximize your settlement.",time:"3:45 PM"}]),[z,B]=(0,r.useState)(""),[F,W]=(0,r.useState)([{role:"ai",content:"Hi! I'm here to help answer your questions. You can ask me things like 'How much could I get?' or 'What should I do next?' \u2014 I'm happy to help!"}]),[q,V]=(0,r.useState)(""),[H,K]=(0,r.useState)(!1),$=(0,r.useRef)(null),G=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;"messages"===u&&(null===(e=$.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},[U.length,u]),(0,r.useEffect)(()=>{var e;"ai"===u&&(null===(e=G.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))},[F.length,u]);const J=[{num:1,title:"Sign Up",icon:"\u2713"},{num:2,title:"What Happened",icon:"\ud83d\udcf8"},{num:3,title:"Insurance Info",icon:"\ud83d\udee1\ufe0f"},{num:4,title:"Your Injuries",icon:"\ud83e\ude79"},{num:5,title:"Witnesses",icon:"\ud83d\udc65"},{num:6,title:"Doctor Visits",icon:"\ud83c\udfe5"},{num:7,title:"Medical Records",icon:"\ud83d\udcc4"},{num:8,title:"Missed Work",icon:"\ud83d\udcbc"},{num:9,title:"Done with Treatment",icon:"\u2705"},{num:10,title:"We Send Our Offer",icon:"\ud83d\udce8"},{num:11,title:"They Respond",icon:"\ud83d\udcb0"},{num:12,title:"You Get Paid",icon:"\ud83c\udf89"}],Y=Math.round(.37*h),Q=Math.round(.78*h),X=Q-Y,Z=Math.round(I.completed.length/12*100),ee=U.filter(e=>"attorney"===e.from).length>0?1:0,te=(e,t)=>{const n=(new Date).toLocaleString();console.log("\ud83d\udce7 EMAIL SENT [".concat(n,"]")),console.log("Type: ".concat(e)),console.log("To: ".concat(N.email||t.email)),console.log("Data:",t);const r={SIGNUP_STARTED:"Confirmation email sent to ".concat(t.email),APPOINTMENT_SCHEDULED:"Appointment confirmation sent to ".concat(t.email),ACCOUNT_CREATED:"Welcome email sent to ".concat(t.email),MILESTONE_SAVED:"Update saved! Confirmation sent to ".concat(t.email)};return _(r[e]||"Email sent!"),setTimeout(()=>_(null),4e3),!0},ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q;e.trim()&&(W(t=>[...t,{role:"user",content:e}]),V(""),K(!0),setTimeout(()=>{const e=["Based on cases like yours, you could get somewhere between $".concat((.85*I.estimatedSettlement).toLocaleString()," and $").concat((1.15*I.estimatedSettlement).toLocaleString(),". If you upload photos of the damage to your car, that usually helps get more."),"You're doing great! Most people take 12-18 months with a regular lawyer, but you're on track to be done in about 3 months because you're helping with the paperwork.","The most important thing you can do right now is take photos of any damage to your car. Cases with good photos usually get 30-40% more money.","I see you've been to the doctor ".concat(I.treatments.length," times so far. Keep going to all your appointments and save all your receipts \u2014 each visit helps show how serious your injuries are.")];W(t=>[...t,{role:"ai",content:e[Math.floor(Math.random()*e.length)]}]),K(!1)},1200))},re=()=>{z.trim()&&(M(e=>[...e,{id:Date.now(),from:"user",name:N.firstName||"You",text:z,time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}]),B(""),setTimeout(()=>{M(e=>[...e,{id:Date.now(),from:"attorney",name:"Sarah Martinez",text:"Thanks for your message! I'll review and get back to you shortly.",time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}])},2e3))},ae=e=>{let{label:t,error:n,icon:r,autoComplete:a,name:s}=e,i=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,er);return(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[r," ",t]}),(0,Zn.jsx)("input",c(c({name:s,autoComplete:a},i),{},{className:"w-full px-4 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 outline-none transition-all ".concat(n?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50 focus:bg-white")})),n&&(0,Zn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:n})]})},se=()=>(0,Zn.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-4 py-2 z-40",children:(0,Zn.jsx)("div",{className:"flex justify-around max-w-md mx-auto",children:[{id:"home",icon:"\ud83c\udfe0",label:"Home"},{id:"tasks",icon:"\ud83d\udccb",label:"To-Do"},{id:"ai",icon:"\ud83e\udd16",label:"Help"},{id:"messages",icon:"\ud83d\udcac",label:"Chat",badge:ee},{id:"profile",icon:"\ud83d\udc64",label:"Me"}].map(e=>(0,Zn.jsxs)("button",{onClick:()=>(e=>{y(e);const t={home:"dashboard",tasks:"milestone-".concat(I.milestone),ai:"ai",messages:"messages",profile:"profile"};d(t[e]||"dashboard")})(e.id),className:"relative flex flex-col items-center py-2 px-3 rounded-xl transition-all ".concat(b===e.id?"bg-amber-50 text-amber-700":"text-gray-400 hover:text-gray-600"),children:[(0,Zn.jsx)("span",{className:"text-lg",children:e.icon}),(0,Zn.jsx)("span",{className:"text-[10px] font-medium mt-0.5",children:e.label}),e.badge>0&&(0,Zn.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]},e.id))})}),ie=()=>(0,Zn.jsxs)("div",{className:"min-h-screen",children:[(0,Zn.jsxs)("div",{className:"bg-gradient-to-br from-amber-500 via-orange-500 to-rose-500 text-white",children:[(0,Zn.jsxs)("header",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,Zn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("div",{className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:(0,Zn.jsx)("span",{className:"text-xl",children:"\u2696\ufe0f"})}),(0,Zn.jsx)("span",{className:"text-xl font-bold",children:"MyLawBox"})]}),(0,Zn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("button",{onClick:()=>o("en"===i?"es":"en"),className:"px-3 py-1.5 text-sm font-medium text-white/80 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:"en"===i?"Espa\xf1ol":"English"}),(0,Zn.jsx)("button",{onClick:()=>d("signup"),className:"bg-white text-amber-600 px-5 py-2 rounded-xl font-bold text-sm hover:bg-amber-50 transition-colors shadow-lg",children:"Get Started Free"})]})]}),(0,Zn.jsxs)("div",{className:"max-w-5xl mx-auto px-4 pt-12 pb-24 text-center",children:[(0,Zn.jsxs)("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur px-4 py-2 rounded-full text-sm font-medium mb-6",children:[(0,Zn.jsx)("span",{children:"\ud83d\ude97"})," For California car accident victims"]}),(0,Zn.jsxs)("h1",{className:"text-4xl md:text-6xl font-bold mb-4 leading-tight",children:["Hurt in an accident?",(0,Zn.jsx)("br",{}),(0,Zn.jsx)("span",{className:"text-amber-200",children:"Keep more of your money."})]}),(0,Zn.jsx)("p",{className:"text-xl text-white/90 max-w-2xl mx-auto mb-8",children:"Most lawyers take 33% of everything you get. We charge just 10% because you help with some of the paperwork."}),(0,Zn.jsx)("button",{onClick:()=>d("signup"),className:"bg-white text-amber-600 text-lg font-bold px-8 py-4 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all",children:"Check If You Qualify \u2192"}),(0,Zn.jsx)("p",{className:"mt-4 text-white/70 text-sm",children:"Free to check \u2022 No commitment \u2022 Real lawyers"})]}),(0,Zn.jsx)("div",{className:"relative h-16",children:(0,Zn.jsx)("svg",{className:"absolute bottom-0 w-full h-16",viewBox:"0 0 1440 64",fill:"none",preserveAspectRatio:"none",children:(0,Zn.jsx)("path",{d:"M0 64H1440V32C1440 32 1320 0 1080 0C840 0 720 32 480 32C240 32 120 0 0 0V64Z",fill:"#FFF7ED"})})})]}),(0,Zn.jsx)("div",{className:"bg-orange-50 py-16",children:(0,Zn.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Zn.jsxs)("div",{className:"text-center mb-8",children:[(0,Zn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"The settlement isn't what you get."}),(0,Zn.jsx)("p",{className:"text-gray-700 text-lg",children:"See what actually ends up in your pocket."})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl p-6 md:p-10",children:[(0,Zn.jsxs)("div",{className:"text-center mb-8",children:[(0,Zn.jsx)("div",{className:"inline-block bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-semibold mb-3",children:"\ud83d\udccb Example Scenario"}),(0,Zn.jsx)("p",{className:"text-gray-700 font-medium mb-2",children:"Insurance agrees to pay"}),(0,Zn.jsxs)("p",{className:"text-5xl font-bold text-gray-900",children:["$",h.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-gray-600 mt-2",children:"\u2193 But you won't get all of it. See below."})]}),(0,Zn.jsxs)("div",{className:"mb-10 px-4",children:[(0,Zn.jsx)("input",{type:"range",min:"25000",max:"200000",step:"5000",value:h,onChange:e=>f(Number(e.target.value)),className:"w-full"}),(0,Zn.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mt-2 font-medium",children:[(0,Zn.jsx)("span",{children:"$25,000"}),(0,Zn.jsx)("span",{children:"$200,000"})]})]}),(0,Zn.jsx)("div",{className:"text-center mb-6",children:(0,Zn.jsx)("div",{className:"inline-flex items-center gap-2 bg-amber-500 text-white px-5 py-2.5 rounded-full font-bold text-sm shadow-lg",children:"\ud83d\udc47 What you ACTUALLY take home"})}),(0,Zn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Zn.jsxs)("div",{className:"relative bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl p-6 border-2 border-gray-300",children:[(0,Zn.jsx)("div",{className:"absolute -top-3 left-4 bg-gray-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"OPTION A: TRADITIONAL"}),(0,Zn.jsx)("p",{className:"text-lg font-bold text-gray-800 mt-2 mb-4",children:"Regular Lawyer"}),(0,Zn.jsxs)("div",{className:"space-y-3 text-sm mb-6",children:[(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"Insurance pays"}),(0,Zn.jsxs)("span",{className:"font-bold text-gray-900",children:["$",h.toLocaleString()]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"Lawyer takes 33%"}),(0,Zn.jsxs)("span",{className:"font-bold text-red-600",children:["\u2212$",Math.round(.33*h).toLocaleString()]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"Medical bills"}),(0,Zn.jsxs)("span",{className:"font-bold text-red-600",children:["\u2212$",Math.round(.3*h).toLocaleString()]})]})]}),(0,Zn.jsxs)("div",{className:"border-t-2 border-gray-400 pt-4 bg-gray-200/50 -mx-6 -mb-6 px-6 pb-6 rounded-b-2xl",children:[(0,Zn.jsx)("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Your check"}),(0,Zn.jsxs)("p",{className:"text-4xl font-bold text-gray-700",children:["$",Y.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"\u23f1\ufe0f Takes 12-18 months"})]})]}),(0,Zn.jsxs)("div",{className:"relative bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl p-6 text-white shadow-xl shadow-orange-500/30",children:[(0,Zn.jsxs)("div",{className:"absolute -top-3 left-4 bg-emerald-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:["OPTION B: SMART TOUCH \u2014 +$",X.toLocaleString()," MORE"]}),(0,Zn.jsx)("p",{className:"text-lg font-bold text-white mt-2 mb-4",children:"MyLawBox"}),(0,Zn.jsxs)("div",{className:"space-y-3 text-sm mb-6",children:[(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-white",children:"Insurance pays"}),(0,Zn.jsxs)("span",{className:"font-bold text-white",children:["$",h.toLocaleString()]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-white",children:"We take only 10%"}),(0,Zn.jsxs)("span",{className:"font-bold text-emerald-300",children:["\u2212$",Math.round(.1*h).toLocaleString()]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between",children:[(0,Zn.jsx)("span",{className:"text-white",children:"Medical (we negotiate)"}),(0,Zn.jsxs)("span",{className:"font-bold text-emerald-300",children:["\u2212$",Math.round(.12*h).toLocaleString()]})]})]}),(0,Zn.jsxs)("div",{className:"border-t-2 border-white/30 pt-4 bg-orange-700/30 -mx-6 -mb-6 px-6 pb-6 rounded-b-2xl",children:[(0,Zn.jsx)("p",{className:"text-sm text-amber-100 font-medium mb-1",children:"Your check"}),(0,Zn.jsxs)("p",{className:"text-4xl font-bold text-white",children:["$",Q.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-sm text-emerald-300 mt-2",children:"\u26a1 Done in ~3 months"})]})]})]}),(0,Zn.jsx)("p",{className:"text-center text-gray-600 mt-6 text-sm",children:"* We negotiate your medical bills down so you keep more"})]})]})}),(0,Zn.jsx)("div",{className:"bg-white py-16",children:(0,Zn.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,Zn.jsxs)("div",{className:"bg-gradient-to-r from-amber-100 to-orange-100 rounded-3xl p-8 md:p-12 border border-amber-200",children:[(0,Zn.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why do you keep so much more?"}),(0,Zn.jsx)("div",{className:"grid md:grid-cols-3 gap-6",children:[{icon:"\ud83d\udcb0",title:"Lower fee",desc:"You help with some paperwork, so we only charge 10% instead of 33%"},{icon:"\ud83c\udfe5",title:"Lower bills",desc:"We negotiate with doctors and hospitals to reduce what you owe"},{icon:"\u26a1",title:"Faster",desc:"Your involvement means less back-and-forth, so you get paid in months, not years"}].map((e,t)=>(0,Zn.jsxs)("div",{className:"text-center",children:[(0,Zn.jsx)("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-lg flex items-center justify-center text-3xl mx-auto mb-4",children:e.icon}),(0,Zn.jsx)("p",{className:"font-bold text-gray-900 mb-2",children:e.title}),(0,Zn.jsx)("p",{className:"text-gray-700 text-sm",children:e.desc})]},t))})]})})}),(0,Zn.jsx)("div",{className:"bg-gray-900 text-white py-16",children:(0,Zn.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,Zn.jsx)("h2",{className:"text-3xl font-bold text-center mb-12",children:"Here's what happens"}),(0,Zn.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[{icon:"\ud83d\udcf1",title:"Tell us what happened",time:"5 min",num:"1"},{icon:"\ud83d\udcde",title:"Talk to your lawyer",time:"Free call",num:"2"},{icon:"\ud83d\udcf8",title:"Send photos & bills",time:"Easy upload",num:"3"},{icon:"\ud83d\udcaa",title:"We fight for you",time:"Our job",num:"4"},{icon:"\ud83d\udcb5",title:"You get paid",time:"~3 months",num:"5"}].map((e,t)=>(0,Zn.jsxs)("div",{className:"text-center",children:[(0,Zn.jsxs)("div",{className:"relative inline-block mb-4",children:[(0,Zn.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center text-3xl shadow-lg",children:e.icon}),(0,Zn.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white text-amber-600 rounded-full flex items-center justify-center text-xs font-bold",children:e.num})]}),(0,Zn.jsx)("p",{className:"font-semibold text-white mb-1",children:e.title}),(0,Zn.jsx)("p",{className:"text-gray-300 text-sm",children:e.time})]},t))})]})}),(0,Zn.jsx)("div",{className:"bg-gradient-to-r from-amber-500 to-orange-500 py-16",children:(0,Zn.jsxs)("div",{className:"max-w-3xl mx-auto px-4 text-center text-white",children:[(0,Zn.jsx)("div",{className:"text-5xl mb-6",children:"\ud83d\udcac"}),(0,Zn.jsx)("blockquote",{className:"text-2xl font-medium mb-6 leading-relaxed",children:'"I was nervous about doing some of the work myself, but it was just taking photos and filling out simple forms. I ended up keeping way more money than my friend who used a regular lawyer."'}),(0,Zn.jsx)("p",{className:"text-white/90 font-medium",children:"\u2014 Maria G., Riverside CA"})]})}),(0,Zn.jsx)("div",{className:"bg-gradient-to-b from-white to-amber-50 py-20",children:(0,Zn.jsxs)("div",{className:"max-w-2xl mx-auto px-4 text-center",children:[(0,Zn.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to see if you qualify?"}),(0,Zn.jsx)("p",{className:"text-gray-700 text-lg mb-8",children:"Takes 5 minutes. No cost. No commitment."}),(0,Zn.jsx)("button",{onClick:()=>d("signup"),className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xl font-bold px-12 py-5 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 transition-all",children:"Check If You Qualify \u2192"}),(0,Zn.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-6 mt-8 text-sm text-gray-700",children:[(0,Zn.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("span",{className:"text-emerald-500 text-lg",children:"\u2713"})," Real California lawyers"]}),(0,Zn.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("span",{className:"text-emerald-500 text-lg",children:"\u2713"})," No upfront cost"]}),(0,Zn.jsxs)("span",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("span",{className:"text-emerald-500 text-lg",children:"\u2713"})," Free consultation"]})]})]})}),(0,Zn.jsx)("div",{className:"bg-gray-100 py-8",children:(0,Zn.jsx)("div",{className:"max-w-4xl mx-auto px-4 text-center text-sm text-gray-500",children:(0,Zn.jsx)("p",{children:"MyLawBox connects you with licensed California attorneys. Results vary by case."})})})]}),oe=()=>{const e=N.firstName||"Maria",t=J.find(e=>e.num===I.milestone);return(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm pb-20",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)("p",{className:"text-xs text-gray-500",children:[l.welcome,", ",e]}),(0,Zn.jsx)("p",{className:"font-semibold text-gray-900",children:l.letsGetPaid})]}),(0,Zn.jsxs)("button",{onClick:()=>x(!w),className:"relative w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center",children:["\ud83d\udd14",D.filter(e=>!e.read).length>0&&(0,Zn.jsx)("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-white"})]})]})}),w&&(0,Zn.jsx)("div",{className:"fixed inset-0 z-50",onClick:()=>x(!1),children:(0,Zn.jsxs)("div",{className:"absolute top-14 right-4 w-72 bg-white rounded-xl shadow-xl border border-gray-100 overflow-hidden animate-fadeIn",onClick:e=>e.stopPropagation(),children:[(0,Zn.jsx)("div",{className:"p-3 border-b border-gray-100 font-semibold text-gray-900",children:"Notifications"}),D.map(e=>(0,Zn.jsxs)("div",{className:"p-3 border-b border-gray-50 ".concat(e.read?"":"bg-amber-50"),children:[(0,Zn.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.title}),(0,Zn.jsx)("p",{className:"text-gray-500 text-xs",children:e.message})]},e.id))]})}),(0,Zn.jsxs)("div",{className:"desktop-container mx-auto px-4 py-6 space-y-4",children:[(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100",children:[(0,Zn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Zn.jsx)("span",{className:"font-semibold text-gray-900",children:"Your Progress"}),(0,Zn.jsxs)("span",{className:"text-sm text-amber-600 font-medium",children:[Z,"%"]})]}),(0,Zn.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden mb-4",children:(0,Zn.jsx)("div",{className:"h-full bg-amber-500 rounded-full transition-all",style:{width:"".concat(Z,"%")}})}),(0,Zn.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,Zn.jsxs)("span",{children:[I.completed.length," of 12 steps done"]}),(0,Zn.jsxs)("span",{children:["You could get ~$",I.estimatedSettlement.toLocaleString()]})]})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsxs)("div",{className:"bg-dark rounded-2xl p-5 text-white",children:[(0,Zn.jsx)("p",{className:"text-xs text-gray-400",children:"So far, you've saved"}),(0,Zn.jsxs)("p",{className:"text-3xl font-bold text-amber-400 my-1",children:["$",I.savedAmount.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-sm text-gray-300",children:"compared to using a typical lawyer"})]}),(0,Zn.jsxs)("button",{onClick:()=>d("milestone-".concat(I.milestone)),className:"w-full bg-amber-500 hover:bg-amber-600 rounded-2xl p-5 text-left text-white transition-colors",children:[(0,Zn.jsx)("p",{className:"text-xs text-amber-200",children:"What you need to do next"}),(0,Zn.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Zn.jsx)("p",{className:"text-lg font-bold",children:null===t||void 0===t?void 0:t.title}),(0,Zn.jsx)("span",{className:"text-2xl",children:null===t||void 0===t?void 0:t.icon})]})]})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100",children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900 mb-4",children:"All Steps"}),(0,Zn.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:J.map(e=>{const t=I.completed.includes(e.num),n=e.num===I.milestone;return(0,Zn.jsxs)("button",{onClick:()=>d("milestone-".concat(e.num)),className:"p-3 rounded-xl text-center transition-all hover:shadow-md ".concat(t?"bg-emerald-50 border-2 border-emerald-500":n?"bg-amber-50 border-2 border-amber-500 animate-pulse":"bg-gray-50 border-2 border-gray-200 hover:border-amber-300"),children:[(0,Zn.jsx)("div",{className:"text-2xl mb-1 ".concat(t?"text-emerald-500":n?"text-amber-500":"text-gray-500"),children:t?"\u2713":e.icon}),(0,Zn.jsx)("div",{className:"text-xs font-medium ".concat(t?"text-emerald-700":n?"text-amber-700":"text-gray-600"),children:e.title}),(0,Zn.jsxs)("div",{className:"text-[10px] mt-0.5 ".concat(t?"text-emerald-600":n?"text-amber-600":"text-gray-400"),children:["Step ",e.num]})]},e.num)})})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100",children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900 mb-4",children:"\ud83d\udc69\u200d\u2696\ufe0f Your Legal Team"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsxs)("div",{className:"flex items-start gap-4 p-4 bg-amber-50 rounded-xl",children:[(0,Zn.jsx)("div",{className:"w-16 h-16 bg-amber-200 rounded-xl flex items-center justify-center text-3xl flex-shrink-0",children:"\ud83d\udc69\u200d\u2696\ufe0f"}),(0,Zn.jsxs)("div",{className:"flex-1",children:[(0,Zn.jsx)("p",{className:"font-bold text-gray-900",children:"Sarah Martinez, Esq."}),(0,Zn.jsx)("p",{className:"text-sm text-amber-700",children:"Lead Attorney"}),(0,Zn.jsxs)("div",{className:"mt-2 space-y-1 text-sm text-gray-600",children:[(0,Zn.jsx)("p",{children:"\ud83d\udcf1 (555) 123-4567"}),(0,Zn.jsx)("p",{children:"\ud83d\udcde (555) 987-6543"}),(0,Zn.jsx)("p",{children:"\u2709\ufe0f sarah@mylawbox.com"}),(0,Zn.jsx)("p",{children:"\ud83d\udccd Los Angeles, CA"})]})]})]}),(0,Zn.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,Zn.jsx)("button",{onClick:()=>{d("messages"),y("messages")},className:"flex-1 bg-amber-500 hover:bg-amber-600 text-white px-4 py-3 rounded-xl font-medium text-sm flex items-center justify-center gap-2",children:"\ud83d\udcac Send Message"}),(0,Zn.jsx)("a",{href:"tel:5551234567",className:"flex-1 bg-emerald-500 hover:bg-emerald-600 text-white px-4 py-3 rounded-xl font-medium text-sm flex items-center justify-center gap-2",children:"\ud83d\udcde Call Now"}),(0,Zn.jsx)("a",{href:"sms:5551234567",className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-xl font-medium text-sm flex items-center justify-center gap-2",children:"\ud83d\udcf1 Text Message"})]})]})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100",children:[(0,Zn.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900",children:"Doctor Visits"}),(0,Zn.jsxs)("p",{className:"text-sm text-amber-600",children:["$",I.treatments.reduce((e,t)=>e+t.cost,0).toLocaleString()," in bills"]})]}),(0,Zn.jsx)("div",{className:"space-y-2",children:I.treatments.map(e=>(0,Zn.jsxs)("div",{className:"flex items-center justify-between p-2.5 bg-gray-50 rounded-lg",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("p",{className:"font-medium text-gray-900 text-sm",children:e.provider}),(0,Zn.jsx)("p",{className:"text-xs text-gray-500",children:e.date})]}),(0,Zn.jsxs)("p",{className:"font-medium text-gray-900 text-sm",children:["$",e.cost]})]},e.id))})]})]}),(0,Zn.jsx)(se,{})]})},le=e=>{let{number:t}=e;const[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(I.milestoneData[t]||{}),[o,l]=(0,r.useState)({}),[u,h]=(0,r.useState)(null),f=J.find(e=>e.num===t),p=()=>h(null),g=e=>{let{category:t,label:n,description:r,color:a="amber",icon:o="\ud83d\udcce"}=e;const l=s[t]||[],d={amber:{border:"border-amber-300",bg:"bg-amber-50",btn:"bg-amber-500 hover:bg-amber-600",dragBg:"bg-amber-100"},blue:{border:"border-blue-300",bg:"bg-blue-50",btn:"bg-blue-500 hover:bg-blue-600",dragBg:"bg-blue-100"},red:{border:"border-red-300",bg:"bg-red-50",btn:"bg-red-500 hover:bg-red-600",dragBg:"bg-red-100"},purple:{border:"border-purple-300",bg:"bg-purple-50",btn:"bg-purple-500 hover:bg-purple-600",dragBg:"bg-purple-100"},green:{border:"border-emerald-300",bg:"bg-emerald-50",btn:"bg-emerald-500 hover:bg-emerald-600",dragBg:"bg-emerald-100"},gray:{border:"border-gray-300",bg:"bg-gray-50",btn:"bg-gray-600 hover:bg-gray-700",dragBg:"bg-gray-100"}}[a];return(0,Zn.jsxs)("div",{className:"border-2 border-dashed ".concat(u===t?d.dragBg+" "+d.border:d.border," ").concat(d.bg," rounded-xl p-4 transition-all drop-zone ").concat(u===t?"dragging":""),onDragOver:e=>((e,t)=>{e.preventDefault(),h(t)})(e,t),onDragLeave:p,onDrop:e=>((e,t)=>{e.preventDefault(),h(null);const n=Array.from(e.dataTransfer.files).map(e=>e.name),r=s[t]||[];i(c(c({},s),{},{[t]:[...r,...n]}))})(e,t),children:[(0,Zn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Zn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Zn.jsx)("span",{className:"text-2xl",children:o}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("p",{className:"font-medium text-gray-800 text-sm",children:n}),(0,Zn.jsx)("p",{className:"text-xs text-gray-500",children:r})]})]}),(0,Zn.jsxs)("label",{className:"".concat(d.btn," text-white px-3 py-1.5 rounded-lg text-sm font-medium cursor-pointer"),children:["+ Add",(0,Zn.jsx)("input",{type:"file",multiple:!0,className:"hidden",onChange:e=>((e,t)=>{const n=Array.from(t).map(e=>e.name),r=s[e]||[];i(c(c({},s),{},{[e]:[...r,...n]}))})(t,e.target.files)})]})]}),(0,Zn.jsx)("p",{className:"text-xs text-gray-400 mb-2",children:"Drag & drop files here or click Add"}),l.length>0?(0,Zn.jsx)("div",{className:"max-h-40 overflow-y-auto space-y-1",children:l.map((e,n)=>(0,Zn.jsxs)("div",{className:"flex items-center justify-between bg-white rounded-lg px-3 py-2 text-sm",children:[(0,Zn.jsxs)("span",{className:"truncate flex-1 text-gray-700",children:["\ud83d\udcce ",e]}),(0,Zn.jsx)("button",{onClick:()=>((e,t)=>{const n=s[e]||[];i(c(c({},s),{},{[e]:n.filter(e=>e!==t)}))})(t,e),className:"text-red-500 ml-2 text-xs hover:text-red-700",children:"\u2715"})]},n))}):(0,Zn.jsx)("p",{className:"text-xs text-gray-400 italic",children:"No files uploaded yet"})]})},v=(e,t)=>{const n=s[e]||[];i(c(c({},s),{},{[e]:[...n,c({id:Date.now()},t)]}))},b=(e,t,n)=>{const r=s[e]||[];i(c(c({},s),{},{[e]:r.map(e=>e.id===t?c(c({},e),n):e)}))},y=(e,t)=>{const n=s[e]||[];i(c(c({},s),{},{[e]:n.filter(e=>e.id!==t)}))};return(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm pb-20",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsxs)("div",{className:"desktop-container mx-auto px-4 py-3 flex items-center justify-between",children:[(0,Zn.jsx)("button",{onClick:()=>d("dashboard"),className:"text-gray-500 font-medium text-sm",children:"\u2190 Back"}),(0,Zn.jsxs)("span",{className:"text-sm text-gray-500",children:["Step ",t," of 12"]}),(0,Zn.jsx)("div",{className:"w-16"})]})}),(0,Zn.jsxs)("div",{className:"desktop-container mx-auto px-4 py-6",children:[(0,Zn.jsxs)("div",{className:"text-center mb-6",children:[(0,Zn.jsx)("span",{className:"text-5xl",children:null===f||void 0===f?void 0:f.icon}),(0,Zn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-3",children:null===f||void 0===f?void 0:f.title}),(0,Zn.jsxs)("p",{className:"text-gray-500 mt-1",children:["Step ",t," of 12"]})]}),(0,Zn.jsx)("div",{className:"bg-white rounded-2xl p-6 border border-amber-100",children:(()=>{switch(t){case 2:{const e=[{id:"rear-end",label:"Rear-End",icon:"\ud83d\ude97\ud83d\udca5\ud83d\ude99",desc:"Hit from behind"},{id:"t-bone",label:"T-Bone",icon:"\ud83d\ude97\u27a1\ufe0f\ud83d\ude99",desc:"Side impact"},{id:"head-on",label:"Head-On",icon:"\ud83d\ude97\ud83d\udca5\ud83d\ude97",desc:"Front collision"},{id:"sideswipe",label:"Sideswipe",icon:"\ud83d\ude97\u2194\ufe0f\ud83d\ude99",desc:"Side scrape"},{id:"rollover",label:"Rollover",icon:"\ud83d\udd04\ud83d\ude97",desc:"Car flipped"},{id:"hit-run",label:"Hit & Run",icon:"\ud83d\ude97\ud83d\udca8",desc:"Driver fled"},{id:"multi-car",label:"Multi-Car",icon:"\ud83d\ude97\ud83d\ude99\ud83d\ude95",desc:"3+ vehicles"},{id:"parking",label:"Parking Lot",icon:"\ud83c\udd7f\ufe0f\ud83d\udca5",desc:"In parking area"},{id:"pedestrian",label:"Pedestrian",icon:"\ud83d\udeb6\ud83d\udca5\ud83d\ude97",desc:"Hit while walking"},{id:"bicycle",label:"Bicycle",icon:"\ud83d\udeb4\ud83d\udca5\ud83d\ude97",desc:"Bike involved"},{id:"motorcycle",label:"Motorcycle",icon:"\ud83c\udfcd\ufe0f\ud83d\udca5\ud83d\ude97",desc:"Motorcycle crash"},{id:"uber-lyft",label:"Uber/Lyft",icon:"\ud83d\udcf1\ud83d\ude97",desc:"Rideshare accident"}],t=s.accidentTypes||[];return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Nearest Address *",placeholder:"123 Main Street",value:s.nearestAddress||"",onChange:e=>i(c(c({},s),{},{nearestAddress:e.target.value})),error:o.nearestAddress}),(0,Zn.jsx)(ae,{label:"Nearest Cross Street",placeholder:"Main St & 1st Ave",value:s.crossStreet||"",onChange:e=>i(c(c({},s),{},{crossStreet:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"City *",placeholder:"Los Angeles",value:s.city||"",onChange:e=>i(c(c({},s),{},{city:e.target.value})),error:o.city}),(0,Zn.jsx)(ae,{label:"State",placeholder:"CA",value:s.state||"",onChange:e=>i(c(c({},s),{},{state:e.target.value}))})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What type of accident? *"}),(0,Zn.jsx)("p",{className:"text-xs text-amber-600 mb-3",children:"Select all that apply"}),o.accidentTypes&&(0,Zn.jsx)("p",{className:"text-red-500 text-xs mb-2",children:o.accidentTypes}),(0,Zn.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-2",children:e.map(e=>{const n=t.includes(e.id);return(0,Zn.jsxs)("button",{type:"button",onClick:()=>i(c(c({},s),{},{accidentTypes:n?t.filter(t=>t!==e.id):[...t,e.id]})),className:"p-2 rounded-xl border-2 text-center transition-all ".concat(n?"border-amber-500 bg-amber-50 shadow-md":"border-gray-200 hover:border-amber-300"),children:[(0,Zn.jsx)("div",{className:"text-xl mb-1",children:e.icon}),(0,Zn.jsx)("div",{className:"text-xs font-semibold ".concat(n?"text-amber-700":"text-gray-700"),children:e.label}),n&&(0,Zn.jsx)("div",{className:"text-amber-500 text-xs",children:"\u2713"})]},e.id)})})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcdd Describe what happened"}),(0,Zn.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Who, What, Where, When, Why, How"}),(0,Zn.jsx)("textarea",{value:s.description||"",onChange:e=>i(c(c({},s),{},{description:e.target.value})),placeholder:"I was driving northbound on Main St around 3pm. The light turned green and I started moving. A red Honda ran the red light...",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:border-amber-500 outline-none min-h-[120px] text-sm"})]}),(0,Zn.jsxs)("div",{className:"border-2 border-purple-200 rounded-xl p-4 bg-purple-50",children:[(0,Zn.jsx)("p",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\udc6e Police Report"}),(0,Zn.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{policeReportFiled:!0})),className:"flex-1 py-2 rounded-lg border-2 text-sm font-medium ".concat(!0===s.policeReportFiled?"border-purple-500 bg-purple-100 text-purple-700":"border-gray-200"),children:"Yes, report filed"}),(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{policeReportFiled:!1})),className:"flex-1 py-2 rounded-lg border-2 text-sm font-medium ".concat(!1===s.policeReportFiled?"border-purple-500 bg-purple-100 text-purple-700":"border-gray-200"),children:"No report"})]}),s.policeReportFiled&&(0,Zn.jsxs)("div",{className:"space-y-3",children:[(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-3",children:[(0,Zn.jsx)(ae,{label:"Report Number",placeholder:"2026-12345",value:s.policeReportNumber||"",onChange:e=>i(c(c({},s),{},{policeReportNumber:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Police Department",placeholder:"LAPD, CHP",value:s.policeDepartment||"",onChange:e=>i(c(c({},s),{},{policeDepartment:e.target.value}))})]}),(0,Zn.jsx)(g,{category:"policeReportFiles",label:"Police Report",description:"PDF or photos",color:"purple",icon:"\ud83d\udccb"})]})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"vehiclePhotos",label:"Vehicle Damage",description:"All angles",color:"amber",icon:"\ud83d\ude97"}),(0,Zn.jsx)(g,{category:"scenePhotos",label:"Accident Scene",description:"Street, signs, skid marks",color:"blue",icon:"\ud83d\udccd"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"injuryPhotos",label:"Injury Photos",description:"Bruises, cuts",color:"red",icon:"\ud83e\ude79"}),(0,Zn.jsx)(g,{category:"otherDocs",label:"Other Documents",description:"Insurance, witness info",color:"gray",icon:"\ud83d\udcc4"})]})]})}case 3:return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-blue-800 mb-4",children:"\ud83d\udee1\ufe0f Your Insurance"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Insurance Company *",placeholder:"State Farm, Geico, Allstate",value:s.yourInsurance||"",onChange:e=>i(c(c({},s),{},{yourInsurance:e.target.value})),error:o.yourInsurance}),(0,Zn.jsx)(ae,{label:"Policy Number *",placeholder:"POL-123456789",value:s.yourPolicy||"",onChange:e=>i(c(c({},s),{},{yourPolicy:e.target.value})),error:o.yourPolicy})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,Zn.jsx)(ae,{label:"Claim Number (if you have one)",placeholder:"CLM-987654",value:s.yourClaim||"",onChange:e=>i(c(c({},s),{},{yourClaim:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Adjuster Name",placeholder:"John Smith",value:s.yourAdjuster||"",onChange:e=>i(c(c({},s),{},{yourAdjuster:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,Zn.jsx)(ae,{label:"Adjuster Phone",placeholder:"(555) 123-4567",value:s.yourAdjusterPhone||"",onChange:e=>i(c(c({},s),{},{yourAdjusterPhone:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Adjuster Email",placeholder:"adjuster@insurance.com",value:s.yourAdjusterEmail||"",onChange:e=>i(c(c({},s),{},{yourAdjusterEmail:e.target.value}))})]})]}),(0,Zn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-red-800 mb-4",children:"\u26a0\ufe0f At-Fault Driver's Insurance"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Insurance Company",placeholder:"Other driver's insurance",value:s.theirInsurance||"",onChange:e=>i(c(c({},s),{},{theirInsurance:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Policy Number",placeholder:"If known",value:s.theirPolicy||"",onChange:e=>i(c(c({},s),{},{theirPolicy:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,Zn.jsx)(ae,{label:"Claim Number",placeholder:"CLM-XXX",value:s.theirClaim||"",onChange:e=>i(c(c({},s),{},{theirClaim:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Adjuster Name",placeholder:"If known",value:s.theirAdjuster||"",onChange:e=>i(c(c({},s),{},{theirAdjuster:e.target.value}))})]})]}),(0,Zn.jsx)(g,{category:"insuranceCards",label:"Insurance Cards",description:"Front and back of all cards",color:"blue",icon:"\ud83d\udcb3"}),(0,Zn.jsx)(g,{category:"insuranceDocs",label:"Insurance Documents",description:"Declarations page, policy docs",color:"gray",icon:"\ud83d\udcc4"})]});case 4:{const e=s.injuries||[],t=["Head","Face","Neck","Shoulder (L)","Shoulder (R)","Upper Back","Lower Back","Chest","Ribs","Arm (L)","Arm (R)","Elbow (L)","Elbow (R)","Wrist (L)","Wrist (R)","Hand (L)","Hand (R)","Hip (L)","Hip (R)","Thigh (L)","Thigh (R)","Knee (L)","Knee (R)","Shin (L)","Shin (R)","Ankle (L)","Ankle (R)","Foot (L)","Foot (R)"],n=["Bruise/Contusion","Cut/Laceration","Sprain","Strain","Fracture","Dislocation","Whiplash","Concussion","Herniated Disc","Torn Ligament","Torn Muscle","Internal Bleeding","Burns","Nerve Damage","Other"],r=()=>v("injuries",{bodyPart:"",injuryType:"",severity:5,description:"",photos:[]});return(0,Zn.jsxs)("div",{className:"space-y-6",children:[o.injuries&&(0,Zn.jsx)("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:o.injuries}),e.map((e,r)=>(0,Zn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,Zn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zn.jsxs)("p",{className:"font-medium text-red-800",children:["\ud83e\ude79 Injury #",r+1]}),(0,Zn.jsx)("button",{type:"button",onClick:()=>y("injuries",e.id),className:"text-red-500 text-sm hover:text-red-700",children:"Remove"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Body Part"}),(0,Zn.jsxs)("select",{value:e.bodyPart,onChange:t=>b("injuries",e.id,{bodyPart:t.target.value}),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select body part..."}),t.map(e=>(0,Zn.jsx)("option",{value:e,children:e},e))]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Injury Type"}),(0,Zn.jsxs)("select",{value:e.injuryType,onChange:t=>b("injuries",e.id,{injuryType:t.target.value}),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select type..."}),n.map(e=>(0,Zn.jsx)("option",{value:e,children:e},e))]})]})]}),(0,Zn.jsxs)("div",{className:"mb-4",children:[(0,Zn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Pain Level: ",e.severity||5,"/10"]}),(0,Zn.jsx)("input",{type:"range",min:"1",max:"10",value:e.severity||5,onChange:t=>b("injuries",e.id,{severity:parseInt(t.target.value)}),className:"w-full"})]}),(0,Zn.jsxs)("div",{className:"mb-4",children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe this injury"}),(0,Zn.jsx)("textarea",{value:e.description||"",onChange:t=>b("injuries",e.id,{description:t.target.value}),placeholder:"How did it happen? Current symptoms? How does it affect daily life?",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]},e.id)),(0,Zn.jsx)("button",{type:"button",onClick:r,className:"w-full py-3 border-2 border-dashed border-red-300 rounded-xl text-red-600 font-medium hover:bg-red-50 transition-colors",children:"+ Add Another Injury"}),(0,Zn.jsx)(g,{category:"allInjuryPhotos",label:"All Injury Photos",description:"Photos of bruises, cuts, swelling over time",color:"red",icon:"\ud83d\udcf8"}),(0,Zn.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-amber-800 mb-4",children:"\ud83d\udc8a Medications"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prescription Medications"}),(0,Zn.jsx)("textarea",{value:s.prescriptionMeds||"",onChange:e=>i(c(c({},s),{},{prescriptionMeds:e.target.value})),placeholder:"List all prescription medications (one per line)\nExample:\nIbuprofen 800mg - Dr. Smith\nMuscle relaxer - Dr. Jones",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[100px]"})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Over-the-Counter Medications"}),(0,Zn.jsx)("textarea",{value:s.otcMeds||"",onChange:e=>i(c(c({},s),{},{otcMeds:e.target.value})),placeholder:"List OTC medications (one per line)\nExample:\nTylenol\nAdvil\nBengay",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[100px]"})]})]}),(0,Zn.jsx)("div",{className:"mt-4",children:(0,Zn.jsx)(g,{category:"prescriptionDocs",label:"Prescription Documents",description:"Photos of prescriptions, pharmacy receipts",color:"amber",icon:"\ud83d\udc8a"})})]})]})}case 5:{const e=s.witnesses||[],t=()=>v("witnesses",{name:"",phone:"",email:"",relationship:"",statement:""});return 0===e.length&&setTimeout(()=>{i(c(c({},s),{},{witnesses:[{id:1,name:"",phone:"",email:"",relationship:"",statement:""},{id:2,name:"",phone:"",email:"",relationship:"",statement:""},{id:3,name:"",phone:"",email:"",relationship:"",statement:""}]}))},0),(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsx)("p",{className:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg",children:"\ud83d\udc41\ufe0f Witnesses can significantly strengthen your case. Add anyone who saw the accident."}),e.map((t,n)=>(0,Zn.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,Zn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zn.jsxs)("p",{className:"font-medium text-blue-800",children:["\ud83d\udc64 Witness #",n+1]}),e.length>1&&(0,Zn.jsx)("button",{type:"button",onClick:()=>y("witnesses",t.id),className:"text-red-500 text-sm hover:text-red-700",children:"Remove"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsx)(ae,{label:"Full Name",placeholder:"John Doe",value:t.name,onChange:e=>b("witnesses",t.id,{name:e.target.value})}),(0,Zn.jsx)(ae,{label:"Phone Number",placeholder:"(555) 123-4567",value:t.phone,onChange:e=>b("witnesses",t.id,{phone:e.target.value})})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsx)(ae,{label:"Email",placeholder:"witness@email.com",value:t.email,onChange:e=>b("witnesses",t.id,{email:e.target.value})}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Relationship to You"}),(0,Zn.jsxs)("select",{value:t.relationship,onChange:e=>b("witnesses",t.id,{relationship:e.target.value}),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select..."}),(0,Zn.jsx)("option",{value:"stranger",children:"Stranger / Bystander"}),(0,Zn.jsx)("option",{value:"passenger",children:"Passenger in my car"}),(0,Zn.jsx)("option",{value:"other-driver",children:"Other driver involved"}),(0,Zn.jsx)("option",{value:"passenger-other",children:"Passenger in other car"}),(0,Zn.jsx)("option",{value:"friend",children:"Friend"}),(0,Zn.jsx)("option",{value:"family",children:"Family member"}),(0,Zn.jsx)("option",{value:"coworker",children:"Coworker"}),(0,Zn.jsx)("option",{value:"other",children:"Other"})]})]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"What did they see?"}),(0,Zn.jsx)("textarea",{value:t.statement||"",onChange:e=>b("witnesses",t.id,{statement:e.target.value}),placeholder:"Briefly describe what this witness observed...",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]},t.id)),(0,Zn.jsx)("button",{type:"button",onClick:t,className:"w-full py-3 border-2 border-dashed border-blue-300 rounded-xl text-blue-600 font-medium hover:bg-blue-50 transition-colors",children:"+ Add Another Witness"}),(0,Zn.jsx)(g,{category:"witnessStatements",label:"Written Witness Statements",description:"Signed statements, police witness forms",color:"blue",icon:"\ud83d\udcdd"})]})}case 6:{const e=s.doctorVisits||[],t=()=>v("doctorVisits",{date:"",doctorName:"",facility:"",address:"",reason:"",diagnosis:"",treatment:"",nextSteps:"",cost:"",files:[]});return(0,Zn.jsxs)("div",{className:"space-y-6",children:[o.doctorVisits&&(0,Zn.jsx)("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:o.doctorVisits}),(0,Zn.jsx)("p",{className:"text-sm text-gray-600 bg-emerald-50 p-3 rounded-lg",children:"\ud83c\udfe5 Every doctor visit builds your case. Add all visits related to your accident injuries."}),e.map((e,t)=>(0,Zn.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4",children:[(0,Zn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Zn.jsxs)("p",{className:"font-medium text-emerald-800",children:["\ud83e\ude7a Visit #",t+1]}),(0,Zn.jsx)("button",{type:"button",onClick:()=>y("doctorVisits",e.id),className:"text-red-500 text-sm hover:text-red-700",children:"Remove"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[(0,Zn.jsx)(ae,{label:"Visit Date *",type:"date",value:e.date,onChange:t=>b("doctorVisits",e.id,{date:t.target.value})}),(0,Zn.jsx)(ae,{label:"Doctor Name",placeholder:"Dr. Smith",value:e.doctorName,onChange:t=>b("doctorVisits",e.id,{doctorName:t.target.value})}),(0,Zn.jsx)(ae,{label:"Cost/Copay",placeholder:"$150",value:e.cost,onChange:t=>b("doctorVisits",e.id,{cost:t.target.value})})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsx)(ae,{label:"Facility/Hospital",placeholder:"UCLA Medical Center",value:e.facility,onChange:t=>b("doctorVisits",e.id,{facility:t.target.value})}),(0,Zn.jsx)(ae,{label:"Address",placeholder:"123 Medical Blvd, LA CA",value:e.address,onChange:t=>b("doctorVisits",e.id,{address:t.target.value})})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Visit"}),(0,Zn.jsx)("textarea",{value:e.reason||"",onChange:t=>b("doctorVisits",e.id,{reason:t.target.value}),placeholder:"What symptoms brought you in?",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Diagnosis"}),(0,Zn.jsx)("textarea",{value:e.diagnosis||"",onChange:t=>b("doctorVisits",e.id,{diagnosis:t.target.value}),placeholder:"What did the doctor diagnose?",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Treatment Provided"}),(0,Zn.jsx)("textarea",{value:e.treatment||"",onChange:t=>b("doctorVisits",e.id,{treatment:t.target.value}),placeholder:"Medications, procedures, physical therapy, etc.",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Steps"}),(0,Zn.jsx)("textarea",{value:e.nextSteps||"",onChange:t=>b("doctorVisits",e.id,{nextSteps:t.target.value}),placeholder:"Follow-up appointments, referrals, tests ordered",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]})]},e.id)),(0,Zn.jsx)("button",{type:"button",onClick:t,className:"w-full py-3 border-2 border-dashed border-emerald-300 rounded-xl text-emerald-600 font-medium hover:bg-emerald-50 transition-colors",children:"+ Add Doctor Visit"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"visitSummaries",label:"Visit Summaries",description:"Doctor's notes, visit summaries",color:"green",icon:"\ud83d\udccb"}),(0,Zn.jsx)(g,{category:"labResults",label:"Lab Results",description:"Blood work, test results",color:"purple",icon:"\ud83e\uddea"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"xrays",label:"X-Rays & Imaging",description:"X-rays, MRI, CT scans",color:"blue",icon:"\ud83e\ude7b"}),(0,Zn.jsx)(g,{category:"medicalBills",label:"Medical Bills",description:"Invoices, receipts, EOBs",color:"amber",icon:"\ud83d\udcb5"})]})]})}case 7:return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsx)("p",{className:"text-sm text-gray-600 bg-purple-50 p-3 rounded-lg",children:"\ud83d\udcc1 Upload all medical records related to your accident. These are crucial for your case."}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"erRecords",label:"Emergency Room Records",description:"Initial ER visit documentation",color:"red",icon:"\ud83c\udfe5"}),(0,Zn.jsx)(g,{category:"hospitalRecords",label:"Hospital Records",description:"Admission, discharge summaries",color:"blue",icon:"\ud83c\udfe8"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"doctorRecords",label:"Doctor's Office Records",description:"Progress notes, treatment plans",color:"green",icon:"\ud83d\udc68\u200d\u2695\ufe0f"}),(0,Zn.jsx)(g,{category:"specialistRecords",label:"Specialist Records",description:"Orthopedic, neurology, etc.",color:"purple",icon:"\ud83d\udd2c"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"ptRecords",label:"Physical Therapy Records",description:"PT evaluations, progress notes",color:"amber",icon:"\ud83c\udfc3"}),(0,Zn.jsx)(g,{category:"chiropractorRecords",label:"Chiropractor Records",description:"Adjustments, treatment plans",color:"blue",icon:"\ud83e\uddb4"})]}),(0,Zn.jsx)(g,{category:"otherMedicalRecords",label:"Other Medical Records",description:"Any other relevant medical documentation",color:"gray",icon:"\ud83d\udcc4"}),(0,Zn.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-amber-800 mb-2",children:"\ud83d\udca1 Tips for getting your records:"}),(0,Zn.jsxs)("ul",{className:"text-sm text-amber-700 space-y-1",children:[(0,Zn.jsx)("li",{children:"\u2022 Contact each provider's medical records department"}),(0,Zn.jsx)("li",{children:'\u2022 Ask for "complete medical records" related to your accident'}),(0,Zn.jsx)("li",{children:"\u2022 Request itemized billing statements"}),(0,Zn.jsx)("li",{children:"\u2022 Allow 2-4 weeks for records to be processed"})]})]})]});case 8:return(0,Zn.jsxs)("div",{className:"space-y-6",children:[o.missedWork&&(0,Zn.jsx)("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:o.missedWork}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Did you miss work due to your injuries? *"}),(0,Zn.jsxs)("div",{className:"flex gap-2",children:[(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{missedWork:!0})),className:"flex-1 py-3 rounded-xl border-2 text-sm font-medium ".concat(!0===s.missedWork?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200"),children:"Yes, I missed work"}),(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{missedWork:!1})),className:"flex-1 py-3 rounded-xl border-2 text-sm font-medium ".concat(!1===s.missedWork?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200"),children:"No missed work"})]})]}),s.missedWork&&(0,Zn.jsxs)(Zn.Fragment,{children:[(0,Zn.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-amber-800 mb-4",children:"\ud83d\udcbc Employment Information"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Employer Name",placeholder:"Company Inc.",value:s.employer||"",onChange:e=>i(c(c({},s),{},{employer:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Your Job Title",placeholder:"Manager",value:s.jobTitle||"",onChange:e=>i(c(c({},s),{},{jobTitle:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,Zn.jsx)(ae,{label:"Hourly Rate or Salary",placeholder:"$25/hr or $60,000/year",value:s.payRate||"",onChange:e=>i(c(c({},s),{},{payRate:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Hours Per Week",placeholder:"40",value:s.hoursPerWeek||"",onChange:e=>i(c(c({},s),{},{hoursPerWeek:e.target.value}))})]})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"First Day Missed",type:"date",value:s.firstDayMissed||"",onChange:e=>i(c(c({},s),{},{firstDayMissed:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Last Day Missed (or ongoing)",type:"date",value:s.lastDayMissed||"",onChange:e=>i(c(c({},s),{},{lastDayMissed:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Total Days Missed",placeholder:"15",value:s.totalDaysMissed||"",onChange:e=>i(c(c({},s),{},{totalDaysMissed:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Estimated Lost Wages",placeholder:"$3,000",value:s.lostWages||"",onChange:e=>i(c(c({},s),{},{lostWages:e.target.value}))})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Are you still unable to work?"}),(0,Zn.jsxs)("div",{className:"flex gap-2",children:[(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{stillOutOfWork:!0})),className:"flex-1 py-2 rounded-xl border-2 text-sm ".concat(!0===s.stillOutOfWork?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200"),children:"Yes, still out"}),(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{stillOutOfWork:!1})),className:"flex-1 py-2 rounded-xl border-2 text-sm ".concat(!1===s.stillOutOfWork?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200"),children:"Back to work"}),(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{stillOutOfWork:"partial"})),className:"flex-1 py-2 rounded-xl border-2 text-sm ".concat("partial"===s.stillOutOfWork?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200"),children:"Limited duties"})]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Describe work impact"}),(0,Zn.jsx)("textarea",{value:s.workImpact||"",onChange:e=>i(c(c({},s),{},{workImpact:e.target.value})),placeholder:"How have your injuries affected your ability to work? Any reduced hours, modified duties, or career impact?",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[100px]"})]}),(0,Zn.jsx)(g,{category:"employmentDocs",label:"Employment Documentation",description:"Pay stubs, W2s, employment verification",color:"amber",icon:"\ud83d\udcc4"}),(0,Zn.jsx)(g,{category:"doctorWorkNotes",label:"Doctor's Work Restrictions",description:"Notes clearing/restricting work",color:"green",icon:"\ud83e\ude7a"})]})]});case 9:{const e=s.currentSymptoms||[],t=["Chronic pain","Headaches","Neck stiffness","Back pain","Limited mobility","Numbness/tingling","Sleep problems","Anxiety","Depression","Memory issues","Fatigue","Dizziness"];return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsx)("p",{className:"text-sm text-gray-600 bg-purple-50 p-3 rounded-lg",children:"\ud83d\udcca Document your current symptoms and how they affect your daily life."}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Symptoms (select all that apply)"}),(0,Zn.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(t=>(0,Zn.jsx)("button",{type:"button",onClick:()=>i(c(c({},s),{},{currentSymptoms:e.includes(t)?e.filter(e=>e!==t):[...e,t]})),className:"px-3 py-1.5 rounded-full border-2 text-sm ".concat(e.includes(t)?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200"),children:t},t))})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other symptoms not listed above"}),(0,Zn.jsx)("textarea",{value:s.otherSymptoms||"",onChange:e=>i(c(c({},s),{},{otherSymptoms:e.target.value})),placeholder:"Describe any other symptoms you're experiencing...",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Overall Pain Level Today: ",s.currentPain||5,"/10"]}),(0,Zn.jsx)("input",{type:"range",min:"0",max:"10",value:s.currentPain||5,onChange:e=>i(c(c({},s),{},{currentPain:parseInt(e.target.value)})),className:"w-full"})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"How do symptoms affect your daily life?"}),(0,Zn.jsx)("textarea",{value:s.dailyLifeImpact||"",onChange:e=>i(c(c({},s),{},{dailyLifeImpact:e.target.value})),placeholder:"Describe how your injuries affect work, sleep, hobbies, relationships, household tasks, etc.",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[120px]"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Can you do household chores?"}),(0,Zn.jsxs)("select",{value:s.householdAbility||"",onChange:e=>i(c(c({},s),{},{householdAbility:e.target.value})),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select..."}),(0,Zn.jsx)("option",{value:"normal",children:"Yes, same as before"}),(0,Zn.jsx)("option",{value:"limited",children:"Limited ability"}),(0,Zn.jsx)("option",{value:"help",children:"Need help"}),(0,Zn.jsx)("option",{value:"unable",children:"Unable to do"})]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exercise/Physical Activity?"}),(0,Zn.jsxs)("select",{value:s.exerciseAbility||"",onChange:e=>i(c(c({},s),{},{exerciseAbility:e.target.value})),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select..."}),(0,Zn.jsx)("option",{value:"normal",children:"Yes, same as before"}),(0,Zn.jsx)("option",{value:"limited",children:"Limited ability"}),(0,Zn.jsx)("option",{value:"unable",children:"Unable to exercise"})]})]})]})]})}case 10:return(0,Zn.jsxs)("div",{className:"space-y-6",children:[o.treatmentComplete&&(0,Zn.jsx)("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:o.treatmentComplete}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What is your current treatment status? *"}),(0,Zn.jsx)("div",{className:"space-y-2",children:[{value:"ongoing",label:"Still receiving treatment",desc:"Actively seeing doctors, doing PT, etc."},{value:"completed",label:"Treatment completed",desc:"Doctor has released you from care"},{value:"mmi",label:"Maximum Medical Improvement (MMI)",desc:"Condition is stable, no further improvement expected"},{value:"surgery-needed",label:"Surgery recommended",desc:"Doctor recommends surgery you haven't had yet"}].map(e=>(0,Zn.jsxs)("button",{type:"button",onClick:()=>i(c(c({},s),{},{treatmentComplete:e.value})),className:"w-full text-left p-4 rounded-xl border-2 ".concat(s.treatmentComplete===e.value?"border-amber-500 bg-amber-50":"border-gray-200"),children:[(0,Zn.jsx)("p",{className:"font-medium ".concat(s.treatmentComplete===e.value?"text-amber-700":"text-gray-700"),children:e.label}),(0,Zn.jsx)("p",{className:"text-sm text-gray-500",children:e.desc})]},e.value))})]}),"completed"===s.treatmentComplete&&(0,Zn.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-4",children:[(0,Zn.jsx)(ae,{label:"Date of Last Treatment",type:"date",value:s.lastTreatmentDate||"",onChange:e=>i(c(c({},s),{},{lastTreatmentDate:e.target.value}))}),(0,Zn.jsxs)("div",{className:"mt-4",children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Final prognosis from your doctor"}),(0,Zn.jsx)("textarea",{value:s.finalPrognosis||"",onChange:e=>i(c(c({},s),{},{finalPrognosis:e.target.value})),placeholder:"What did your doctor say about your long-term outlook?",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]}),"surgery-needed"===s.treatmentComplete&&(0,Zn.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-red-800 mb-4",children:"\ud83c\udfe5 Recommended Surgery Details"}),(0,Zn.jsx)(ae,{label:"Type of Surgery",placeholder:"ACL reconstruction, spinal fusion, etc.",value:s.surgeryType||"",onChange:e=>i(c(c({},s),{},{surgeryType:e.target.value}))}),(0,Zn.jsx)("div",{className:"mt-4",children:(0,Zn.jsx)(ae,{label:"Estimated Cost",placeholder:"$50,000",value:s.surgeryCost||"",onChange:e=>i(c(c({},s),{},{surgeryCost:e.target.value}))})}),(0,Zn.jsxs)("div",{className:"mt-4",children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Why haven't you had the surgery yet?"}),(0,Zn.jsx)("textarea",{value:s.surgeryDelay||"",onChange:e=>i(c(c({},s),{},{surgeryDelay:e.target.value})),placeholder:"Waiting for insurance approval, can't afford, scheduling, etc.",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Any permanent limitations or disabilities?"}),(0,Zn.jsx)("textarea",{value:s.permanentLimitations||"",onChange:e=>i(c(c({},s),{},{permanentLimitations:e.target.value})),placeholder:"Describe any permanent injuries, scars, range of motion loss, chronic conditions, etc.",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[100px]"})]}),(0,Zn.jsx)(g,{category:"dischargeRecords",label:"Discharge/Release Records",description:"Doctor's release, final visit notes",color:"green",icon:"\ud83d\udccb"})]});case 11:return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-amber-800 mb-4",children:"\ud83d\ude97 Your Vehicle"}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,Zn.jsx)(ae,{label:"Year",placeholder:"2022",value:s.vehicleYear||"",onChange:e=>i(c(c({},s),{},{vehicleYear:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Make",placeholder:"Toyota",value:s.vehicleMake||"",onChange:e=>i(c(c({},s),{},{vehicleMake:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Model",placeholder:"Camry",value:s.vehicleModel||"",onChange:e=>i(c(c({},s),{},{vehicleModel:e.target.value}))})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mt-4",children:[(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Status"}),(0,Zn.jsxs)("select",{value:s.vehicleStatus||"",onChange:e=>i(c(c({},s),{},{vehicleStatus:e.target.value})),className:"w-full px-3 py-2.5 border-2 border-gray-200 rounded-xl text-sm",children:[(0,Zn.jsx)("option",{value:"",children:"Select..."}),(0,Zn.jsx)("option",{value:"totaled",children:"Totaled / Total Loss"}),(0,Zn.jsx)("option",{value:"repaired",children:"Repaired"}),(0,Zn.jsx)("option",{value:"repairing",children:"Being Repaired"}),(0,Zn.jsx)("option",{value:"not-repaired",children:"Not Yet Repaired"})]})]}),(0,Zn.jsx)(ae,{label:"Estimated Value Before Accident",placeholder:"$25,000",value:s.vehicleValue||"",onChange:e=>i(c(c({},s),{},{vehicleValue:e.target.value}))})]})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(ae,{label:"Repair Estimate/Cost",placeholder:"$8,500",value:s.repairCost||"",onChange:e=>i(c(c({},s),{},{repairCost:e.target.value}))}),(0,Zn.jsx)(ae,{label:"Rental Car Costs",placeholder:"$1,200",value:s.rentalCost||"",onChange:e=>i(c(c({},s),{},{rentalCost:e.target.value}))})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other property damaged?"}),(0,Zn.jsx)("textarea",{value:s.otherPropertyDamage||"",onChange:e=>i(c(c({},s),{},{otherPropertyDamage:e.target.value})),placeholder:"Phone, laptop, car seat, personal items, etc.",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[80px]"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"repairEstimates",label:"Repair Estimates",description:"Body shop quotes",color:"amber",icon:"\ud83d\udd27"}),(0,Zn.jsx)(g,{category:"repairReceipts",label:"Repair Receipts",description:"Paid repair invoices",color:"green",icon:"\ud83e\uddfe"})]}),(0,Zn.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,Zn.jsx)(g,{category:"totalLossDocs",label:"Total Loss Documents",description:"Insurance valuation",color:"red",icon:"\ud83d\udcc4"}),(0,Zn.jsx)(g,{category:"rentalReceipts",label:"Rental Car Receipts",description:"Rental agreements, receipts",color:"blue",icon:"\ud83d\ude99"})]})]});case 12:var e,n,r,a,l;return(0,Zn.jsxs)("div",{className:"space-y-6",children:[(0,Zn.jsxs)("div",{className:"bg-emerald-50 border border-emerald-200 rounded-xl p-6 text-center",children:[(0,Zn.jsx)("span",{className:"text-5xl",children:"\ud83c\udf89"}),(0,Zn.jsx)("h3",{className:"text-xl font-bold text-emerald-800 mt-4",children:"You're Almost Done!"}),(0,Zn.jsx)("p",{className:"text-emerald-700 mt-2",children:"Review your case information before submitting."})]}),(0,Zn.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-4",children:[(0,Zn.jsx)("p",{className:"font-medium text-gray-800 mb-3",children:"\ud83d\udccb Case Summary"}),(0,Zn.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Zn.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,Zn.jsx)("span",{className:"text-gray-500",children:"Accident Type:"}),(0,Zn.jsx)("span",{className:"font-medium",children:((null===(e=I.milestoneData[2])||void 0===e?void 0:e.accidentTypes)||[]).join(", ")||"Not specified"})]}),(0,Zn.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,Zn.jsx)("span",{className:"text-gray-500",children:"Location:"}),(0,Zn.jsx)("span",{className:"font-medium",children:(null===(n=I.milestoneData[2])||void 0===n?void 0:n.city)||"Not specified"})]}),(0,Zn.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,Zn.jsx)("span",{className:"text-gray-500",children:"Injuries:"}),(0,Zn.jsxs)("span",{className:"font-medium",children:[((null===(r=I.milestoneData[4])||void 0===r?void 0:r.injuries)||[]).length," documented"]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between py-2 border-b",children:[(0,Zn.jsx)("span",{className:"text-gray-500",children:"Doctor Visits:"}),(0,Zn.jsxs)("span",{className:"font-medium",children:[((null===(a=I.milestoneData[6])||void 0===a?void 0:a.doctorVisits)||[]).length," recorded"]})]}),(0,Zn.jsxs)("div",{className:"flex justify-between py-2",children:[(0,Zn.jsx)("span",{className:"text-gray-500",children:"Treatment Status:"}),(0,Zn.jsx)("span",{className:"font-medium",children:(null===(l=I.milestoneData[10])||void 0===l?void 0:l.treatmentComplete)||"Not specified"})]})]})]}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Anything else we should know?"}),(0,Zn.jsx)("textarea",{value:s.additionalNotes||"",onChange:e=>i(c(c({},s),{},{additionalNotes:e.target.value})),placeholder:"Any other details about your case, questions, or concerns...",className:"w-full px-3 py-2 border-2 border-gray-200 rounded-xl text-sm min-h-[100px]"})]}),(0,Zn.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:(0,Zn.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,Zn.jsx)("input",{type:"checkbox",checked:s.confirmAccuracy||!1,onChange:e=>i(c(c({},s),{},{confirmAccuracy:e.target.checked})),className:"mt-1 w-5 h-5 text-amber-500"}),(0,Zn.jsx)("span",{className:"text-sm text-gray-700",children:"I confirm that all information provided is accurate to the best of my knowledge. I understand that my attorney will review this information."})]})})]});default:return(0,Zn.jsx)("div",{className:"text-center py-8",children:(0,Zn.jsx)("p",{className:"text-gray-500",children:"Complete this milestone to continue your case."})})}})()}),n?(0,Zn.jsxs)("div",{className:"text-center py-8 animate-fadeIn",children:[(0,Zn.jsx)("span",{className:"text-5xl",children:"\u2713"}),(0,Zn.jsx)("p",{className:"text-xl font-bold text-emerald-600 mt-3",children:"Saved!"}),(0,Zn.jsx)("p",{className:"text-gray-500",children:"Confirmation email sent"})]}):(0,Zn.jsx)("button",{onClick:()=>{(()=>{var e,n,r,a,i,o,c;const u={};switch(t){case 2:null!==(e=s.nearestAddress)&&void 0!==e&&e.trim()||(u.nearestAddress="Required"),null!==(n=s.city)&&void 0!==n&&n.trim()||(u.city="Required"),(null===(r=s.accidentTypes)||void 0===r?void 0:r.length)>0||(u.accidentTypes="Select at least one");break;case 3:null!==(a=s.yourInsurance)&&void 0!==a&&a.trim()||(u.yourInsurance="Required"),null!==(i=s.yourPolicy)&&void 0!==i&&i.trim()||(u.yourPolicy="Required");break;case 4:(null===(o=s.injuries)||void 0===o?void 0:o.length)>0||(u.injuries="Add at least one injury");break;case 5:case 7:case 9:default:break;case 6:(null===(c=s.doctorVisits)||void 0===c?void 0:c.length)>0||(u.doctorVisits="Add at least one visit");break;case 8:void 0===s.missedWork&&(u.missedWork="Required");break;case 10:void 0===s.treatmentComplete&&(u.treatmentComplete="Required")}return l(u),0===Object.keys(u).length})()&&(a(!0),L(e=>c(c({},e),{},{milestoneData:c(c({},e.milestoneData),{},{[t]:s})})),(e=>{const t=Math.floor(400*Math.random())+400;L(n=>c(c({},n),{},{completed:[...n.completed,e],milestone:Math.min(e+1,12),savedAmount:n.savedAmount+t}))})(t),te("MILESTONE_SAVED",{name:"".concat(N.firstName," ").concat(N.lastName),email:N.email,milestone:null===f||void 0===f?void 0:f.title,step:t}),setTimeout(()=>{t>=12?(m(!0),d("celebration")):d("dashboard")},1500))},className:"w-full mt-6 bg-amber-500 hover:bg-amber-600 text-white font-bold py-4 rounded-xl transition-colors text-lg",children:"Save & Continue \u2192"})]}),(0,Zn.jsx)(se,{})]})},ce=()=>(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm pb-20",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsx)("div",{className:"max-w-md mx-auto px-4 py-3",children:(0,Zn.jsx)("p",{className:"font-semibold text-gray-900",children:l.profile})})}),(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-6 space-y-4",children:[(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100 flex items-center gap-4",children:[(0,Zn.jsx)("div",{className:"w-14 h-14 bg-amber-100 rounded-xl flex items-center justify-center text-2xl",children:"\ud83d\udc64"}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)("p",{className:"font-bold text-gray-900",children:[N.firstName||"Maria"," ",N.lastName||"Gonzalez"]}),(0,Zn.jsx)("p",{className:"text-sm text-gray-500",children:N.email||"maria@email.com"})]})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl border border-amber-100 divide-y divide-gray-100",children:[(0,Zn.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"\ud83c\udf10 Language"}),(0,Zn.jsxs)("button",{onClick:()=>o("en"===i?"es":"en"),className:"text-amber-600 font-medium",children:["en"===i?"English":"Espa\xf1ol"," \u2192"]})]}),(0,Zn.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"\ud83d\udccb Case Number"}),(0,Zn.jsxs)("span",{className:"text-gray-500",children:["MLB-2026-",String(Date.now()).slice(-4)]})]}),(0,Zn.jsxs)("div",{className:"p-4 flex items-center justify-between",children:[(0,Zn.jsx)("span",{className:"text-gray-700",children:"\ud83d\udcca Progress"}),(0,Zn.jsxs)("span",{className:"text-amber-600 font-medium",children:[Z,"% complete"]})]})]}),(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-5 border border-amber-100",children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900 mb-3",children:"What you could get"}),(0,Zn.jsxs)("p",{className:"text-3xl font-bold text-amber-600",children:["$",I.estimatedSettlement.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"This is our best estimate based on similar cases"})]})]}),(0,Zn.jsx)(se,{})]}),ue=()=>{(0,r.useEffect)(()=>{m(!0),setTimeout(()=>m(!1),4e3)},[]);const e=I.estimatedSettlement,t=Math.round(.1*e),n=Math.round(1.2*I.treatments.reduce((e,t)=>e+t.cost,0)),a=e-t-n;return(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm flex items-center justify-center px-4",children:[(0,Zn.jsx)(tr,{active:p}),(0,Zn.jsxs)("div",{className:"max-w-sm w-full text-center",children:[(0,Zn.jsx)("span",{className:"text-5xl",children:"\ud83c\udf89"}),(0,Zn.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mt-4 mb-2",children:"You did it!"}),(0,Zn.jsx)("p",{className:"text-gray-500 mb-6",children:"The insurance company agreed to pay."}),(0,Zn.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-2xl p-6 mb-6",children:[(0,Zn.jsx)("p",{className:"text-xs text-amber-600",children:"Your check will be"}),(0,Zn.jsxs)("p",{className:"text-4xl font-bold text-gray-900 my-2",children:["$",a.toLocaleString()]}),(0,Zn.jsx)("p",{className:"text-sm text-gray-500",children:"Deposited in about 2 weeks"})]}),(0,Zn.jsxs)("p",{className:"text-sm text-emerald-600 mb-6",children:["You saved $",Math.round(.23*e).toLocaleString()," by using MyLawBox instead of a typical lawyer!"]}),(0,Zn.jsx)("button",{onClick:()=>{d("dashboard"),y("home")},className:"w-full bg-amber-500 text-white font-bold py-3 rounded-xl",children:"Back to Home"})]})]})};return(0,Zn.jsxs)("div",{className:"min-h-screen",children:[(0,Zn.jsx)("style",{children:"\n    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n    * { font-family: 'Inter', -apple-system, sans-serif; box-sizing: border-box; }\n    \n    @keyframes confetti { 0% { transform: translateY(0) rotate(0); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }\n    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n    @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.6; } }\n    \n    .animate-fadeIn { animation: fadeIn 0.4s ease-out; }\n    .animate-pulse { animation: pulse 2s ease-in-out infinite; }\n    \n    .bg-warm { background: linear-gradient(180deg, #FFFBF5 0%, #FFF8ED 100%); }\n    .bg-card { background: white; border: 1px solid #F3E8D8; }\n    .bg-dark { background: linear-gradient(135deg, #1a365d 0%, #0f172a 100%); }\n    \n    input[type=\"range\"] { -webkit-appearance: none; height: 8px; border-radius: 4px; background: #e5e7eb; cursor: pointer; }\n    input[type=\"range\"]::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: linear-gradient(135deg, #f59e0b, #d97706); border: 3px solid white; box-shadow: 0 2px 8px rgba(0,0,0,0.15); }\n    \n    select { background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%236b7280'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\"); background-repeat: no-repeat; background-position: right 8px center; background-size: 16px; padding-right: 32px !important; }\n    \n    .scrollbar-hide::-webkit-scrollbar { display: none; }\n    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }\n    \n    .drop-zone { transition: all 0.2s ease; }\n    .drop-zone.dragging { border-color: #f59e0b; background-color: #fef3c7; transform: scale(1.02); }\n    \n    .desktop-container { max-width: 900px; }\n    @media (max-width: 768px) { .desktop-container { max-width: 100%; } }\n  "}),k&&(0,Zn.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-fadeIn",children:(0,Zn.jsxs)("div",{className:"bg-emerald-600 text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-2",children:[(0,Zn.jsx)("span",{children:"\ud83d\udce7"}),(0,Zn.jsx)("span",{className:"text-sm font-medium",children:k})]})}),"landing"===u&&(0,Zn.jsx)(ie,{}),"signup"===u&&(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center justify-between",children:[(0,Zn.jsxs)("button",{onClick:()=>g>1?v(g-1):d("landing"),className:"text-gray-500 font-medium text-sm",children:["\u2190 ",l.back]}),(0,Zn.jsx)("span",{className:"font-semibold text-gray-900",children:"MyLawBox"}),(0,Zn.jsx)("div",{className:"w-12"})]})}),(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-6",children:[(0,Zn.jsx)("div",{className:"flex items-center justify-center gap-2 mb-8",children:[1,2,3].map(e=>(0,Zn.jsxs)(r.Fragment,{children:[(0,Zn.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all ".concat(e<g?"bg-emerald-500 text-white":e===g?"bg-amber-500 text-white":"bg-gray-200 text-gray-400"),children:e<g?"\u2713":e}),e<3&&(0,Zn.jsx)("div",{className:"w-8 h-1 rounded ".concat(e<g?"bg-emerald-500":"bg-gray-200")})]},e))}),1===g&&(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-amber-100 animate-fadeIn",children:[(0,Zn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:"Let's get started"}),(0,Zn.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"Tell us about yourself (2 min)"}),(0,Zn.jsxs)("form",{className:"space-y-4",onSubmit:e=>e.preventDefault(),children:[(0,Zn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,Zn.jsx)(ae,{label:l.firstName,placeholder:"Maria",name:"firstName",autoComplete:"given-name",value:N.firstName,onChange:e=>E(c(c({},N),{},{firstName:e.target.value})),error:T.firstName}),(0,Zn.jsx)(ae,{label:l.lastName,placeholder:"Gonzalez",name:"lastName",autoComplete:"family-name",value:N.lastName,onChange:e=>E(c(c({},N),{},{lastName:e.target.value})),error:T.lastName})]}),(0,Zn.jsx)(ae,{label:l.phone,icon:"\ud83d\udcf1",placeholder:"(555) 123-4567",name:"phone",autoComplete:"tel",value:N.phone,onChange:e=>E(c(c({},N),{},{phone:e.target.value})),error:T.phone}),(0,Zn.jsx)(ae,{label:l.email,icon:"\u2709\ufe0f",type:"email",placeholder:"maria@email.com",name:"email",autoComplete:"email",value:N.email,onChange:e=>E(c(c({},N),{},{email:e.target.value})),error:T.email}),(0,Zn.jsx)(ae,{label:"Password",icon:"\ud83d\udd12",type:"password",placeholder:"Create a password",name:"password",autoComplete:"new-password",value:N.password,onChange:e=>E(c(c({},N),{},{password:e.target.value})),error:T.password}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsxs)("label",{className:"block text-sm font-medium mb-1.5 ".concat(T.accidentDate?"text-red-600":"text-gray-700"),children:["\ud83d\udcc5 ",l.accidentDate," *"]}),(0,Zn.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Zn.jsxs)("select",{value:N.accidentMonth||"",onChange:e=>E(c(c({},N),{},{accidentMonth:e.target.value})),className:"w-full px-3 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 focus:bg-white outline-none transition-all appearance-none text-sm ".concat(T.accidentDate?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50"),children:[(0,Zn.jsx)("option",{value:"",children:"Month"}),(0,Zn.jsx)("option",{value:"01",children:"January"}),(0,Zn.jsx)("option",{value:"02",children:"February"}),(0,Zn.jsx)("option",{value:"03",children:"March"}),(0,Zn.jsx)("option",{value:"04",children:"April"}),(0,Zn.jsx)("option",{value:"05",children:"May"}),(0,Zn.jsx)("option",{value:"06",children:"June"}),(0,Zn.jsx)("option",{value:"07",children:"July"}),(0,Zn.jsx)("option",{value:"08",children:"August"}),(0,Zn.jsx)("option",{value:"09",children:"September"}),(0,Zn.jsx)("option",{value:"10",children:"October"}),(0,Zn.jsx)("option",{value:"11",children:"November"}),(0,Zn.jsx)("option",{value:"12",children:"December"})]}),(0,Zn.jsxs)("select",{value:N.accidentDay||"",onChange:e=>E(c(c({},N),{},{accidentDay:e.target.value})),className:"w-full px-3 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 focus:bg-white outline-none transition-all appearance-none text-sm ".concat(T.accidentDate?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50"),children:[(0,Zn.jsx)("option",{value:"",children:"Day"}),[...Array(31)].map((e,t)=>(0,Zn.jsx)("option",{value:String(t+1).padStart(2,"0"),children:t+1},t+1))]}),(0,Zn.jsxs)("select",{value:N.accidentYear||"",onChange:e=>E(c(c({},N),{},{accidentYear:e.target.value})),className:"w-full px-3 py-3 border-2 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 focus:bg-white outline-none transition-all appearance-none text-sm ".concat(T.accidentDate?"border-red-300 bg-red-50":"border-gray-200 bg-gray-50"),children:[(0,Zn.jsx)("option",{value:"",children:"Year"}),(0,Zn.jsx)("option",{value:"2026",children:"2026"}),(0,Zn.jsx)("option",{value:"2025",children:"2025"}),(0,Zn.jsx)("option",{value:"2024",children:"2024"}),(0,Zn.jsx)("option",{value:"2023",children:"2023"}),(0,Zn.jsx)("option",{value:"2022",children:"2022"}),(0,Zn.jsx)("option",{value:"2021",children:"2021"}),(0,Zn.jsx)("option",{value:"2020",children:"2020"})]})]}),T.accidentDate&&(0,Zn.jsx)("p",{className:"text-red-500 text-xs mt-1",children:T.accidentDate})]})]})]}),2===g&&(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-amber-100 animate-fadeIn",children:[(0,Zn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-1",children:l.scheduleCall}),(0,Zn.jsx)("p",{className:"text-gray-500 text-sm mb-6",children:"Pick a time for your 10-minute attorney call"}),(0,Zn.jsx)("div",{className:"space-y-4",children:[{label:"Tomorrow, Feb 2",slots:["9:00 AM","10:30 AM","2:00 PM","4:00 PM"]},{label:"Wednesday, Feb 3",slots:["9:00 AM","11:00 AM","1:00 PM","3:30 PM"]},{label:"Thursday, Feb 4",slots:["10:00 AM","2:00 PM","4:30 PM"]}].map(e=>(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:e.label}),(0,Zn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.slots.map(t=>(0,Zn.jsx)("button",{onClick:()=>{O(e.label),A(t)},className:"py-3 px-4 rounded-xl border-2 text-sm font-medium transition-all ".concat(R===e.label&&P===t?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 hover:border-amber-300 text-gray-700"),children:t},"".concat(e.label,"-").concat(t)))})]},e.label))})]}),3===g&&(0,Zn.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-amber-100 text-center animate-fadeIn",children:[(0,Zn.jsx)("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Zn.jsx)("span",{className:"text-3xl text-emerald-600",children:"\u2713"})}),(0,Zn.jsx)("h1",{className:"text-xl font-bold text-gray-900 mb-2",children:"You're all set!"}),(0,Zn.jsxs)("div",{className:"bg-amber-50 rounded-xl p-4 my-6",children:[(0,Zn.jsx)("p",{className:"text-sm text-gray-500",children:"Your phone call is booked"}),(0,Zn.jsx)("p",{className:"text-lg font-bold text-gray-900",children:R}),(0,Zn.jsx)("p",{className:"text-amber-600 font-semibold",children:P}),(0,Zn.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Sarah will call you"})]}),(0,Zn.jsx)("p",{className:"text-sm text-emerald-600",children:"\u2713 We sent you a calendar invite"})]}),(0,Zn.jsx)("button",{onClick:async()=>{if(1===g&&(()=>{const e={};return N.firstName.trim()||(e.firstName=l.required),N.lastName.trim()||(e.lastName=l.required),N.phone.trim()?/^[\d\s\-\(\)]{10,}$/.test(N.phone)||(e.phone=l.invalidPhone):e.phone=l.required,N.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N.email)||(e.email=l.invalidEmail):e.email=l.required,(!N.password||N.password.length<6)&&(e.password="Password must be at least 6 characters"),N.accidentMonth&&N.accidentDay&&N.accidentYear||(e.accidentDate=l.required),C(e),0===Object.keys(e).length})())te("SIGNUP_STARTED",{name:"".concat(N.firstName," ").concat(N.lastName),email:N.email,phone:N.phone,accidentDate:"".concat(N.accidentMonth,"/").concat(N.accidentDay,"/").concat(N.accidentYear)}),v(2);else if(2===g&&P)E(e=>c(c({},e),{},{scheduledTime:P,scheduledDate:R})),te("APPOINTMENT_SCHEDULED",{name:"".concat(N.firstName," ").concat(N.lastName),email:N.email,appointmentDate:R,appointmentTime:P}),v(3);else if(3===g){const{data:e,error:t}=await n(N.email,N.password);if(t)return S(t.message),_("Error creating account. Please try again."),void setTimeout(()=>_(null),3e3);te("ACCOUNT_CREATED",{name:"".concat(N.firstName," ").concat(N.lastName),email:N.email}),_("Account created! Please check your email to verify your account."),setTimeout(()=>{_(null),d("dashboard"),y("home")},3e3)}},disabled:2===g&&!P,className:"w-full mt-6 bg-amber-500 hover:bg-amber-600 text-white font-bold py-3.5 rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:3===g?"Go to Dashboard \u2192":"".concat(l.continue," \u2192")})]})]}),"dashboard"===u&&(0,Zn.jsx)(oe,{}),"ai"===u&&(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm pb-20 flex flex-col",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[(0,Zn.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:"\ud83e\udd16"}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Ask Me Anything"}),(0,Zn.jsx)("p",{className:"text-xs text-purple-600",children:"I'm here to help"})]})]})}),(0,Zn.jsxs)("div",{className:"flex-1 px-4 py-4 space-y-3 overflow-y-auto max-w-md mx-auto w-full",children:[F.map((e,t)=>(0,Zn.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,Zn.jsx)("div",{className:"max-w-[85%] rounded-2xl px-4 py-2.5 ".concat("user"===e.role?"bg-amber-500 text-white rounded-br-sm":"bg-white border border-purple-100 rounded-bl-sm"),children:(0,Zn.jsx)("p",{className:"text-sm",children:e.content})})},t)),H&&(0,Zn.jsx)("div",{className:"flex justify-start",children:(0,Zn.jsx)("div",{className:"bg-white border border-purple-100 rounded-2xl rounded-bl-sm px-4 py-3",children:(0,Zn.jsxs)("div",{className:"flex gap-1",children:[(0,Zn.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse"}),(0,Zn.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),(0,Zn.jsx)("div",{className:"w-2 h-2 bg-purple-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})}),(0,Zn.jsx)("div",{ref:G})]}),(0,Zn.jsx)("div",{className:"px-4 py-2 max-w-md mx-auto w-full",children:(0,Zn.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:["How much could I get?","What do I do next?","How long will this take?","Why do I need photos?"].map((e,t)=>(0,Zn.jsx)("button",{onClick:()=>ne(e),className:"flex-shrink-0 px-3 py-1.5 bg-purple-100 text-purple-700 rounded-full text-xs font-medium",children:e},t))})}),(0,Zn.jsx)("div",{className:"bg-white border-t border-gray-100 px-4 py-3",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto flex gap-2",children:[(0,Zn.jsx)("input",{type:"text",value:q,onChange:e=>V(e.target.value),onKeyPress:e=>"Enter"===e.key&&ne(),placeholder:"Ask anything...",className:"flex-1 bg-gray-50 border border-gray-200 rounded-xl px-4 py-2.5 outline-none focus:border-purple-500"}),(0,Zn.jsx)("button",{onClick:()=>ne(),className:"w-10 h-10 bg-purple-500 text-white rounded-xl flex items-center justify-center",children:"\u2192"})]})}),(0,Zn.jsx)(se,{})]}),"messages"===u&&(0,Zn.jsxs)("div",{className:"min-h-screen bg-warm pb-20 flex flex-col",children:[(0,Zn.jsx)("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur-sm border-b border-amber-100",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto px-4 py-3 flex items-center gap-3",children:[(0,Zn.jsx)("button",{onClick:()=>{d("dashboard"),y("home")},className:"text-gray-500",children:"\u2190"}),(0,Zn.jsx)("div",{className:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center",children:"\ud83d\udc69\u200d\u2696\ufe0f"}),(0,Zn.jsxs)("div",{children:[(0,Zn.jsx)("p",{className:"font-semibold text-gray-900 text-sm",children:"Sarah (Your Lawyer)"}),(0,Zn.jsx)("p",{className:"text-xs text-emerald-600",children:"Usually responds in a few hours"})]})]})}),(0,Zn.jsxs)("div",{className:"flex-1 px-4 py-4 space-y-3 overflow-y-auto max-w-md mx-auto w-full",children:[U.map(e=>(0,Zn.jsx)("div",{className:"flex ".concat("user"===e.from?"justify-end":"justify-start"),children:(0,Zn.jsxs)("div",{className:"max-w-[80%] rounded-2xl px-4 py-2.5 ".concat("user"===e.from?"bg-amber-500 text-white rounded-br-sm":"bg-white border border-gray-100 rounded-bl-sm"),children:[(0,Zn.jsx)("p",{className:"text-sm",children:e.text}),(0,Zn.jsx)("p",{className:"text-xs mt-1 ".concat("user"===e.from?"text-amber-200":"text-gray-400"),children:e.time})]})},e.id)),(0,Zn.jsx)("div",{ref:$})]}),(0,Zn.jsx)("div",{className:"bg-white border-t border-gray-100 px-4 py-3",children:(0,Zn.jsxs)("div",{className:"max-w-md mx-auto flex gap-2",children:[(0,Zn.jsx)("input",{type:"text",value:z,onChange:e=>B(e.target.value),onKeyPress:e=>"Enter"===e.key&&re(),placeholder:"Type a message...",className:"flex-1 bg-gray-50 border border-gray-200 rounded-xl px-4 py-2.5 outline-none focus:border-amber-500"}),(0,Zn.jsx)("button",{onClick:re,className:"w-10 h-10 bg-amber-500 text-white rounded-xl flex items-center justify-center",children:"\u2192"})]})}),(0,Zn.jsx)(se,{})]}),"profile"===u&&(0,Zn.jsx)(ce,{}),"celebration"===u&&(0,Zn.jsx)(ue,{}),u.startsWith("milestone-")&&(0,Zn.jsx)(le,{number:parseInt(u.split("-")[1])})]})}const ar=function(){return(0,Zn.jsx)(rr,{})};a.createRoot(document.getElementById("root")).render((0,Zn.jsx)(r.StrictMode,{children:(0,Zn.jsx)(ar,{})}))})();
//# sourceMappingURL=main.54b949db.js.map